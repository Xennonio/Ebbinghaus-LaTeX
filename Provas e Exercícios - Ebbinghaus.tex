\documentclass[11pt]{article}

%% Packages
\usepackage{amsmath, amsthm, amsfonts, amssymb, amscd}
\usepackage{multirow, booktabs}
\usepackage[table]{xcolor}
\usepackage{xcolor}
\usepackage{multicol}
\usepackage{fullpage}
\usepackage{lastpage}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{mathrsfs}
\usepackage{wrapfig}
\usepackage{setspace}
\usepackage{calc}
\usepackage{cancel}
\usepackage[retainorgcmds]{IEEEtrantools}
\usepackage[margin=3cm]{geometry}
\usepackage{empheq}
\usepackage{framed}
\usepackage[most]{tcolorbox}
\usepackage{proof}
\usepackage{mathabx}

%% Pagestyle
\newlength{\tabcont}
\setlength{\parindent}{0.0in}
\setlength{\parskip}{0.05in}
\colorlet{shadecolor}{orange!15}
\parindent 0in
\parskip 12pt
\geometry{margin=1in, headsep=0.25in}
\newtheorem{note}{Nota}

%% NewCommands
\newcommand{\sse}{\leftrightarrow}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\mf}[1]{\mathfrak{#1}}
\newcommand{\msf}[1]{\mathsf{#1}}
\newcommand{\mbb}[1]{\mathbb{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand\overtext[2]{\stackrel{\mathclap{\normalfont\mbox{#1}}}{#2}}

%% Document

\begin{document}
\setcounter{section}{1}
\thispagestyle{empty}

\begin{center}
{\LARGE \bf Provas e Exercícios}\\
{\large Ref. H. D. Ebbnghaus}\\
Primavera 2022
\end{center}

\tableofcontents

\begin{center}
    \section*{Parte A}
\end{center}

\section{Sintaxe das Linguagens de Primeira Ordem}

\begin{shaded}
\textbf{Exercício 1.3.}
Seja $\alpha:\mbb{N}\to\mbb{R}$ dado. Para $a,b\in\mbb{R}$ tq $a<b$ mostre que $\exists c\in I:=[a,b]$ tq $c\notin\text{Im}(\alpha)$. Conclua disso que $I$, e portanto $\mbb{R}$, são incontáveis.
\end{shaded}

\begin{proof}
    Seja $I_0:=[a,b]$ e defina indutivamente $I_{n+1}:=I_n\backslash\{\alpha(n)\}$, obviamente $I_0 \supseteq I_1 \supseteq \dots$ forma uma sequência de intervalos encaixantes e, por se tratar de $\mbb{R}$, vale a propiedade dos intervalos encaixantes:
    $$\bigcap_{n\in\mbb{N}}I_n\ne\emptyset.$$
    Como $\alpha(n)\notin  I_k,\forall k>n$, então, em particular, $\alpha(n)\notin\bigcap_{i\in\mbb{N}}I_i, \forall n\in\mbb{N}$, i.e., existe um $c\in\bigcap_{i\in\mbb{N}}I_i$ tq $c\ne\alpha(n),\forall n\in\mbb{N}$ e, portanto, $c\notin\text{Im}(\alpha)$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 1.4.}
Prove que se $M_0,M_1,\dots\preceq\aleph_0$, então
\[
\bigcup_{n\in\mbb{N}}M_n\preceq\aleph_0
\]
e o utilize para provar o \textbf{Lema 1.2}.
\end{shaded}

\begin{proof}
    Para provarmos que a união infinita é no máximo contável basta acharmos uma enumeração, i.e., uma função bijetora de $\mbb{N}$ para tal conjunto. Para simplificar o argumento assuma $M_n\approx\mbb{N},\forall n\ge0$, se vale para uma sequência de conjuntos infinitos, obviamente vale para o caso em que alguns são finitos. Como $M_n$ é equipotente a $\mbb{N}$, seja $\pi^n:\mbb{N}\to M_n$ tal bijeção, seja então a "matriz" infinita definida por $a_{ij}=\pi^i(j)$, é possível construir uma bijeção $\alpha:\mbb{N}\to\bigcup_{n\in\mbb{N}}M_n$ a partir das diagonais: iniciando com $a_{00}$, indo de $a_{01}$ até $a_{10}$, de $a_{02}$ até $a_{20}$, e assim por diante.\\\\
    Definindo $M_n:=\prod_{i=0}^n\mbb{A}$, o conjunto de strings de comprimento $n$, é fácil mostrar que o produto cartesiano finito de conjuntos no máximo contáveis é no máximo contável, com isso, pelo teorema anterior
    \[
    \bigcup_{n\in\mbb{N}}M_n=\mbb{A}^*\preceq\aleph_0.
    \]
    Como $\mbb{A}^*$ é no mínimo infinito, i.e., $\mbb{A}^*\succeq\aleph_0$, visto que é possível associar a cada string de comprimento $n$ um natural, pelo Teorema de Schröder-Bernstein $\mbb{A}^*\approx\aleph_0$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 1.5.} Demonstre o Teorema de Cantor: não existe $\alpha:M\to\mc{P}(M)$ sobrejetivo e, portanto, bijetivo.
\end{shaded}

\begin{proof}
    Seja $S:=\{a\in M\mid a \notin\alpha(a)\}\in\mc{P}(M)$, assumindo por hipótese que existe $\alpha$ sobrejetivo, então $\exists s\in M$ tq $\alpha(s)=S$. Se $s\in S$, por definição $s\notin\alpha(s)=S$, contradição. Se $s\notin S=\alpha(s)$, por definição $s\in S$, contradição, portanto não existe tal bijeção. Essa demonstração é conhecida como Argumento da Diagonal de Cantor.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.6.}
(a) Seja $\mf{C}_v$ o cálculo consistindo das seguintes regras:
\[
\infer[;]{x~~~x}{\phantom{aaaaaaa}} ~~~~\infer[\text{ se }f\in\mc{S}\text{ é }n\text{-ária e }i\in\{1,\dots,n\}.]{y~~~ft_1\dots t_n}{y & t_i}
\]
a) Mostre que para toda variável $x$ e $\mc{S}$-termo $t$, $x$ $t$ é derivável em $\mf{C}_v$ sse $x\in\msf{var}(t)$.\\
b) Dê um resultado para $\msf{SF}$ análogo ao resultado para $\msf{var}$ em a).
\end{shaded}

\begin{proof}
    a)\\
    ($\Leftarrow$) Se $x\in\msf{var}(t)$ então $x$ $t$ é derivável em $\mf{C}_v$: Caso base: se $t$ é uma variável, então $x=t$ e, obviamente, $x\in\msf{var}(t)$. Indução nas regras: se $t$ não for uma variável e $x\in\msf{var}(t)$, então $x\in\msf{var}(ft_1\dots t\dots t_n)$.\\
    ($\Rightarrow$) Se $x$ $t$ é derivável em $\mf{C}_v$ então $x\in\msf{var}(t)$: Se $t=x$ a primeira regra garante que $x\in\msf{var}(t)$. Se $t=ft_1\dots t_n$ então $x$ $t_i$ é derivável em $\mf{C}_v$ para algum $1\le i\le n$, caso $t_i$ seja da forma $ft_1'\dots t_m'$ novamente, basta repetirmos o argumento, quando $t$ for $x$ voltamos ao primeiro caso.\\
    b) Seja o cálculo $\mf{C}_a$ definido pelas regras:
    \[
    \infer[;]{t_m\overtext{.}{=} t_n~~~t_m\overtext{.}{=} t_n}{\phantom{aaaaaaa}}~~~~\infer[;]{Rt_1\dots t_n~~~Rt_1\dots t_n}{\phantom{aaaaaaa}}~~~~\infer[;]{\Gamma~\neg\psi~~~\neg\psi}{\Gamma & \psi}
    \]
    \[\infer[*=\wedge,\vee,\to,\sse;]{\Gamma~(\varphi*\psi)~~~(\varphi*\psi)}{\Gamma~\varphi & \psi}~~~~\infer[Q=\forall,\exists.]{\Gamma~Qx\psi~~~Qx\psi}{\Gamma & \psi}
    \]
    Para todo termo $t_m,t_n$ e toda variável $x$. $\Gamma$ $\psi$ é derivável em $\mf{C}_a$ sse $\bigcup\Gamma=\msf{SF}(\psi)$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.7.} Altere o cálculo de fórmulas omitindo os parênteses que delimitam as fórmulas introduzidas da forma $\varphi\square\psi$. Mostre que tais fórmulas não terão mais uma única decomposição e que $\msf{SF}$ não será mais uma função bem definida.
\end{shaded}

\begin{proof}
    Pegue, por exemplo, a fórmula $\varphi:=\exists xPx\wedge Qy$, podemos, utilizando o cálculo de fórmulas, construir duas derivações diferentes da mesma fórmula:
    \begin{enumerate}
        \item $Px$, (F2) em $P$ e $x$;
        \item $Qy$, (F2) em $Q$ e $y$;
        \item $Px\wedge Qy$, (F4) em (1) e (2) com $\wedge$;
        \item $\exists xPx\wedge Qy$, (F5) em (3) usando $\exists$ e $x$.
    \end{enumerate}
    e a outra altera somente os passos (3) e (4) para:
    \begin{enumerate}
        \item $\exists xPx$, (F5) em (1) usando $\exists$ e $x$;
        \item $\exists xPx\wedge Qy$ $x$, (F4) em (2) e (3) com $\wedge$.
    \end{enumerate}
    Obviamente $\msf{SF}(\varphi)=\{\varphi,Px\wedge Qy,Qy,Px\}$ utilizando a primeira derivação e\\$\msf{SF}(\varphi)=\{\varphi, \exists xPx, Qy, Px\}$ utilizando a segunda.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.8.} Definimos uma $\mc{S}$-fórmula em notação polonesa ($\mc{S}$-$P$-fórmula) como as strings em $\mbb{A}_{\mc{S}}$ tq a regra (F4) é alterada para: Se $\varphi,\psi$ são $\mc{S}$-$P$-fórmulas, então também são $\square\varphi\psi$, com $\square=\wedge,\vee,\to,\leftrightarrow$.
\end{shaded}

\begin{proof}
    Precisamos antes provar o análogo ao \textbf{Lema 4.2.(b)} para $\mc{S}$-$P$-fórmulas: para $\varphi\ne\varphi'$, $\varphi$ não é um segmento inicial próprio de $\varphi'$. Se $\varphi=\wedge\chi\psi$, assuma por contradição que $\varphi$ é um segmento inicial próprio de $\varphi'$, i.e., existe $\zeta\ne\square$ tq $\varphi\zeta=\wedge\psi\chi=\varphi'$, mas como $\varphi'$ começa com $\wedge$ este só pode ser formado a partir de (F4), portanto $\varphi=\wedge\chi'\psi'$ para algumas $\chi',\psi'$ $\mc{S}$-$P$-fórmulas. Podemos então cancelar $\wedge$ e ficar com $\chi\psi\zeta=\chi'\psi$, mas, pela hipótese de indução, se $\chi$ é um segmento próprio de $\chi'$, só pode ser o caso que $\chi=\chi'$, o mesmo vale para $\psi$ e $\psi'$, logo $\zeta=\square$, contradição.
    Para provar o \textbf{Lema 4.3.(b)} provemos primeiro que se $\varphi_1\dots\varphi_n=\varphi_1'\dots\varphi_n'$, então $\varphi_i=\varphi_i'$ por indução. Caso base: $\varphi_1$ é segmento inicial próprio de $\varphi_1'$, pelo \textbf{Lema 4.2.(b)} temos $\varphi_1=\varphi_1'$. Hipótese de indução: assuma que $\varphi_i=\varphi_i'$, logo podemos cancelá-lo, o que implica que $\varphi_{i+1}$ é segmento inicial próprio de $\varphi_{i+1}'$, i.e., $\varphi_{i+1}=\varphi_{i+1}'$.\\
    Seja agora $n\ne m$, assuma sem perda de generalidade que $n = m + k$ para $k > 0$, logo $\varphi_1\dots\varphi_n=\varphi_1'\dots\varphi_n'\dots\varphi_m'$, da prova anterior temos então que $\square=\varphi_{n+1}'\dots\varphi_m'$, contradição, logo $k = 0$.\\
    A prova do \textbf{Lema 4.4.(b)} é trivial, basta definirmos a função $\msf{SF}$ para $\mc{S}$-$P$-fórmulas, o que é muito simples.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.9.} Seja $t_1,\dots,t_n\in\mc{T}^\mc{S}$ de comprimento $k$, para $n\ge1$. Mostre que $\exists\xi,\eta\in\mbb{A}^*_\mc{S}$ unicamente determinados e $t\in\mc{T}^\mc{S}$ tq o comprimento de $\xi$ é $1\le i<k$ e $t_1\dots t_n = \xi t\eta$.
\end{shaded}

\begin{proof}
    Seja $i=\sum_{j=0}^m\msf{lng}(t_j)$ para algum $m<n$, nesse caso $t=t_{m+1}$ e $\eta=t_{m+2}\dots t_{n}$ podendo ser possivelmente $\square$. Se todos os termos são constantes ou variáveis, este sempre é o caso, se for uma função é possível pararmos no meio de um termo $t_m=ft_1'\dots t_p'$, nesse caso se $\xi$ terminar antes de $t_q'$ pegamos $t=t_{q+1}'$ e $\eta$ como o resto.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 5.2.}
Mostre que o cálculo $\mf{C}_{nf}$ permite derivar precisamente aquelas strings da forma $x$ $\varphi$ no qual $\varphi\in\mc{L}^\mc{S}$ tq $x\notin\msf{free}(\varphi)$:\\\\
\infer[\text{Se }t_1,t_2\in\mc{T}^\mc{S}\text{ e }x\notin\msf{var}(t_1)\cup\msf{var}(t_2);]{x~~~t_1\overtext{.}{=} t_2}{\phantom{aaaaaaa}}\\\\
\infer[\text{Se }R\in\mc{S}\text{ é n-ária},t_1,\dots,t_n\in\mc{T}^\mc{S}\text{ e }x\notin\bigcup_{n\in\mbb{N}}\msf{var}(t_n);]{x~~~Rt_1\dots t_n}{\phantom{aaaaaaa}}\\\\
\infer[;]{x~~~\neg\varphi}{x & \varphi}~~~~
\infer[*=\wedge,\vee,\to,\sse;]{x~~~(\varphi*\psi)}{(x & \varphi) & (x & \psi)}~~~~
\infer[;]{x~~~Qx\varphi}{\phantom{aaaaaaa}}~~~~
\infer[Q=\forall,\exists;]{x~~~Qx\varphi}{x & \varphi}
\end{shaded}

\begin{proof}
    $(\Rightarrow)$ Fazendo indução em cada regra:\\
    $\varphi=t_1\overtext{.}{=} t_2$: por definição $x\notin\msf{free}(\varphi)$;\\
    $\varphi=Rt_1\dots t_n$: Também por definição $x\notin\msf{free}(\varphi)$;\\
    $\varphi=Qx\psi$ nesse caso $x\notin\msf{free}(\varphi)=\msf{free}(\psi)\backslash\{x\}$;\\
    (*) Portanto todas as fórmulas $\varphi$ deriváveis com premissa livre não tem uma ocorrência livre de $x$.\\
    $\varphi=\neg\psi$: Se $\neg\psi$ é derivável, então $\psi$ também é, mas se $\psi$ é derivável em $\mf{C}_{nf}$ então, por (*), $x\notin\msf{free}(\psi)\to x\notin\msf{free}(\neg\psi)$;\\
    $\varphi=(\psi*\chi)$: O argumento é análogo ao de cima, ambos $\psi,\chi$ tem de ser derivável e, por (*), não há ocorrência livre neles, o que implica que não há em $(\psi*\chi)$.\\\\
    $(\Leftarrow)$ Agora assumindo $x\notin\msf{free}(\varphi)$:\\
    $\varphi=t_1\overtext{.}{=} t_2$: então ela é derivável pela regra 1;\\
    $\varphi=Rt_1\dots t_n$: então ela é derivável pela 2ª regra;\\
    $\varphi=Qx\psi$: a última e penúltima regra garantem que é derivável;\\
    $\varphi=\neg\psi$: então $x\notin\msf{free}(\varphi)$, portanto a 3ª regra garante que é derivável;\\
    $\varphi=(\psi*\chi)$: Se $x$ não ocorre livre em $\varphi$ então ela não ocorre livre em ambos, portanto a 5ª regra garante sua derivação.
\end{proof}

\section{Semântica das Linguagens de Primeira Ordem}

\begin{shaded}
\textbf{Exercício 1.4.} Seja $\mf{I}:=(\mf{A},\beta)$ tq $\mf{A}:=(\mbb{N},+,\cdot,0,1,<)$ e $\beta(v_n):=2n$ para $n\ge0$. Interprete as seguintes fórmulas:\\
a) $\exists v_0v_0+v_0\overtext{.}{=} v_1$;\\
b) $\exists v_0v_0\cdot v_0\overtext{.}{=} v_1$;\\
c) $\exists v_1v_0\overtext{.}{=} v_1$;\\
d) $\forall v_0\exists v_1v_0\overtext{.}{=} v_1$;\\
e) $\forall v_0\forall v_1\exists v_2(v_0<v_2\wedge v_2<v_1)$.
\end{shaded}

\begin{proof}
    $\mf{I}\vDash a)$ sse há um $a\in\mbb{N}$ tq $a+a=\beta(v_1)=2$, de fato $a=1$ satisfaz;\\
    $\mf{I}\vDash b)$ sse há um $a\in\mbb{N}$ tq $a\cdot a=2$, obviamente a equação $x^2=2$ não tem solução nos naturais, portanto $\mf{I}\nvDash b)$;\\
    $\mf{I}\vDash c)$ sse há um $a\in\mbb{N}$ tq $0=a$, o que é claramente verdade;\\
    $\mf{I}\vDash d)$ sse para todo $a\in\mbb{N}$ existe um $b\in\mbb{N}$ tq $a = b$, o que também é verdadeiro;\\
    $\mf{I}\vDash e)$ sse para todo $a,b\in\mbb{N}$ existe um $c\in\mbb{N}$ tq $a<c$ e $c<b$. Em particular escolhendo $b = a+1$ temos que existe um natural $c$ tq $a < c < a+1$ o que é falso, portanto $\mf{I}\nvDash e)$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 1.5.} Seja $A\ne\varnothing$ e $A,\mc{S}\prec\aleph_0$ um conjunto de símbolos. Mostre que há uma quantidade finita de $\mc{S}$-estruturas com domínio $A$.
\end{shaded}

\begin{proof}
Seja $S=((c_i)_{0\le i\le n_1},(R_i)_{0\le i\le n_2},(f_i)_{0\le i\le n_3})$ com $R_i$ $k_i$-ário e $f_i$ $l_i$-ário e $|A|=m$. A quantidade total de associações possíveis para cada símbolo com uma respectiva interpretação no domínio é:
\begin{align*}
    \alpha_{R_i} :=\{Z\mid Z\subseteq A^{k_i}\}, & ~~~~|\alpha_{R_i}| =|\mc{P}(\alpha_{R_i})| = 2^{|A^{k_i}|}=2^{m^{k_i}}\\
    \alpha_{f_i} :=A^{\left(A^{l_i}\right)}, & ~~~~|\alpha_{f_i}| = |A|^{|A^{l_i}|} = m^{\left(m^{l_i}\right)}\\
    \alpha_{c_i} := A, & ~~~~|\alpha_{c_i}| = m
\end{align*}
Dessa forma, como todos são finitos e a união e o produto cartesiano finito de conjuntos finitos é finito, então o total de estruturas $\mc{H}$ é tq:
\[
\mc{H}:=\prod\Biggl\{\bigcup_{0\le i\le n_1}\alpha_{R_i},\bigcup_{0\le i\le n_2}\alpha_{f_i},\bigcup_{0\le i\le n_3}\alpha_{c_i}\Biggr\}\prec\aleph_0.
\]
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 1.6.}
Para $\mc{S}$-estruturas $\mf{A}=(A,\mf{a})$ e $\mf{B}=(B,\mf{b})$ seja $\mf{A}\times\mf{B}$ a $\mc{S}$-estrutura com domínio $A\times B$ satisfazendo:\\
Para $R\in\mc{S}$ n-ária e $(a_1,b_1),\dots,(a_n,b_n)\in A\times B$:
\[
R^{\mf{A}\times\mf{B}}(a_1,b_1)\dots(a_n,b_n)\sse R^\mf{A}a_1\dots a_n\wedge R^\mf{B}b_1\dots b_n;
\]
Para $f\in\mc{S}$ n-ária e $(a_1,b_1),\dots,(a_n,b_n)\in A\times B$:
\[
f^{\mf{A}\times\mf{B}}((a_1,b_1),\dots,(a_n,b_n)):=(f^\mf{A}(a_1,\dots,a_n),f^\mf{B}(b_1,\dots,b_n));
\]
Para $c\in\mc{S}$:
\[
c^{\mf{A}\times\mf{B}}:=(c^\mf{A},c^\mf{B});
\]
Mostre que:\\
(a) Se as $\mc{S}_{\msf{gr}}$-estruturas $\mf{A}$ e $\mf{B}$ são grupos então $\mf{A}\times\mf{B}$ também é.\\
(b) Se $\mf{A},\mf{B}$ são estruturas satisfazendo os axiomas de equivalência então $\mf{A}\times\mf{B}$ também satisfaz.\\
(c) Se as $\mc{S}_{\msf{ar}}$-estruturas $\mf{A},\mf{B}$ são corpos, então $\mf{A}\times\mf{B}$ não é.
\end{shaded}

\begin{proof}
    (a) Sejam $\mf{A}=(A,\circ,e);\mf{B}=(B,*,\varepsilon)$ e $\mf{A}\times\mf{B}=(A\times B,\circledast,\epsilon)$. Se $a,b,c\in\mf{A};x,y,z\in\mf{B}$ e $u,v,w\in\mf{A}\times\mf{B}$:\\\\
    (i) $\forall u,v,w((u\circledast v)\circledast w = u\circledast(v\circledast w))$:
    \begin{align*}
        (\overbrace{(x,a)}^u\circledast \overbrace{(y,b)}^v)\circledast \overbrace{(z,c)}^w & = (x\circ y,a*b)\circledast (z,c)\\
        & = (x\circ y\circ z,a*b*c)\\
        & = (x,a)\circledast(y\circ z,b*c)\\
        & = (x,a)\circledast((y,b)\circledast(z,c))\\
        (u\circledast v)\circledast w & = u\circledast(v\circledast w).
    \end{align*}
    (ii) $\forall u\exists v(u\circledast v)=\epsilon$:
    \begin{align*}
        (\overbrace{(x,a)}^u\circledast\overbrace{(y,b)}^v) & = \overbrace{(e,\varepsilon)}^\epsilon\\
        (x\circ y,a*b) & =(e,\varepsilon)\\
        \forall x\exists y(x\circ y=e)& \wedge \forall a\exists b(a*b=\varepsilon).
    \end{align*}
    (iii)$\exists\epsilon\forall u(u\circledast\epsilon=u)$:
    \begin{align*}
        (\overbrace{(x,a)}^u\circledast\overbrace{(e,\varepsilon)}^\epsilon) & =\overbrace{(x,a)}^u\\
        (x\circ e,a\circ\varepsilon) & = (x,a)\\
        \exists e\forall x(x\circ e=x) & \wedge \exists\varepsilon\forall a(a*\varepsilon=a).
    \end{align*}
    (b) Sejam $\mf{A}=(A,R);\mf{B}=(B,\mc{R}),\mf{A}\times\mf{B}=(A\times B,\mathscr{R})$ com $x,y,z\in\mf{A};a,b,c\in\mf{B};u,v,w\in\mf{A}\times\mf{B}$:\\\\
    (i) $\forall u(u\mathscr{R}u)$:
    \begin{align*}
        \overbrace{(x,a)}^u\mathscr{R}\overbrace{(x,a)}^u & \sse xRx\wedge a\mc{R}a\\
        \forall x(xRx) & \wedge \forall a(a\mc{R}a).
    \end{align*}
    (ii) $\forall u,v(u\mathscr{R}v\sse v\mathscr{R}u)$:
    \begin{align*}
        \overbrace{(x,a)}^u\mathscr{R}\overbrace{(y,b)}^v & \sse \overbrace{(y,b)}^v\mathscr{R}\overbrace{(x,a)}^u\\
        xRy\wedge a\mc{R}b & \sse yRx\wedge b\mc{R}a\\
        \forall x,y(xRy\sse yRx) & \wedge \forall a,b(a\mc{R}b\sse b\mc{R}a)
    \end{align*}
    (iii) $\forall u,v,w(u\mathscr{R} v\wedge v\mathscr{R} w\to u\mathscr{R}w)$:
    \begin{align*}
        \overbrace{(x,a)}^u\mathscr{R}\overbrace{(y,b)}^v\wedge \overbrace{(y,b)}^v\mathscr{R}\overbrace{(z,c)}^w & \to \overbrace{(x,a)}^u\mathscr{R}\overbrace{(z,c)}^w\\
        (xRy\wedge a\mc{R}b)\wedge(yRz\wedge b\mc{R}c) & \to xRz\wedge a\mc{R}c\\
        (xRy\wedge yRz)\wedge(a\mc{R}b\wedge b\mc{R}c) & \to xRz\wedge a\mc{R}c\\
        \forall x,y,z(xRy\wedge yRz\to xRz) & \wedge\forall a,b,c(a\mc{R}b\wedge b\mc{R}c\to a\mc{R}c)
    \end{align*}
    (c) Sejam $\mf{A}=(A,+,\cdot,0,1);\mf{B}=(B,*,\times,\ol{0},\ol{1})$ e $\mf{A}\times\mf{B}=(A\times B,\oplus,\odot,\mathbf{0},\mathbf{1})$ com $x,y\in\mf{A};a,b\in\mf{B}$ e $u,v\in\mf{A}\times\mf{B}$:\\
    Um dos axiomas é $\forall(u\ne\mathbf{0})\exists v(u\oplus v=\mathbf{1})$:
    \begin{align*}
        (x,a)\oplus(y,b) & =(1,\ol{1})\\
        (x\cdot y,a*b) & = (1,\ol{1})
    \end{align*}
    Se isso é verdade então, em particular, para ou $x=0$ ou $a=\ol{0}$ temos que $(0,b),(x,\ol{0})\ne\mathbf{0}$, logo ambos $0,\ol{0}$ possuiriam invreso, o que é falso.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 2.1.} Mostre que para $x,y\in\{\top,\bot\}$:\\
a) $\overtext{.}{\to}(x,y)=\overtext{.}{\vee}(\overtext{.}{\neg}(x),y)$;\\
b) $\overtext{.}{\wedge}(x,y)=\overtext{.}{\neg}(\overtext{.}{\vee}(\overtext{.}{\neg}(x),\overtext{.}{\neg}(y)))$;\\
c) $\overtext{.}{\leftrightarrow}(x,y)=\overtext{.}{\wedge}(\overtext{.}{\to}(x,y),\overtext{.}{\to}(y,x))$.
\end{shaded}

\begin{proof}
    \begin{tabular}{||c c c c c||} 
     \hline
     $x$ & $y$ & $\overtext{.}{\neg}(x)$ & $\overtext{.}{\vee}(\overtext{.}{\neg}(x),y)$ & $\overtext{.}{\to}(x,y)$ \\
     \hline\hline
     $\top$ & $\top$ & $\bot$ & $\top$ & $\top$\\ 
     \hline
     $\top$ & $\bot$ & $\bot$ & $\bot$ & $\bot$\\
     \hline
     $\bot$ & $\top$ & $\top$ & $\top$ & $\top$\\
     \hline
     $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$\\
     \hline
    \end{tabular}

    \begin{tabular}{||c c c c c c c||} 
     \hline
     $x$ & $y$ & $\overtext{.}{\neg}(x)$ & $\overtext{.}{\neg}(y)$ & $\overtext{.}{\vee}(\overtext{.}{\neg}(x),\overtext{.}{\neg}(y))$ & $\overtext{.}{\neg}(\overtext{.}{\vee}(\overtext{.}{\neg}(x),\overtext{.}{\neg}(y)))$ & $\overtext{.}{\wedge}(x,y)$\\
     \hline\hline
     $\top$ & $\top$ & $\bot$ & $\bot$ & $\bot$ & $\top$ & $\top$\\ 
     \hline
     $\top$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\bot$ & $\bot$\\
     \hline
     $\bot$ & $\top$ & $\top$ & $\bot$ & $\top$ & $\bot$ & $\bot$\\
     \hline
     $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\bot$ & $\bot$\\
     \hline
    \end{tabular}

    \begin{tabular}{||c c c c c c||} 
     \hline
     $x$ & $y$ & $\overtext{.}{\to}(x,y)$ & $\overtext{.}{\to}(y,x)$ & $\overtext{.}{\wedge}(\overtext{.}{\to}(x,y),\overtext{.}{\to}(y,x))$ & $\overtext{.}{\leftrightarrow}(x,y)$\\
     \hline\hline
     $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$\\ 
     \hline
     $\top$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\bot$\\
     \hline
     $\bot$ & $\top$ & $\top$ & $\bot$ & $\bot$ & $\bot$\\
     \hline
     $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$\\
     \hline
    \end{tabular}
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.3.} Seja $P$ um símbolo de relação unária e $f$ de função binária. Determine duas interpretações para cada fórmula uma que a satisfaça e outra que não:\\
a) $\forall v_1fv_0v_1\overtext{.}{=}v_0$;\\
b) $\exists v_0\forall v_1fv_0v_1\overtext{.}{=}v_1$;\\
c) $\exists v_0(Pv_0\wedge\forall v_1Pfv_0v_1)$.
\end{shaded}

\begin{proof}
    a) Seja $\mf{I}=(\mbb{N},R,\cdot)$ tq $\beta(v_0)=0$, então $\mf{I}\vDash a)$ sse para todo $n\in\mbb{N}$ vale $0\cdot n=0$, o que é fato. Entretanto para mesma interpretação com $+$ temos $n+0=0$, o que não é o caso.\\
    b) Interpretando com a mesma estrutura que em a) o que b) garante é a existência de um elemento neutro, o que é verdade. Pro caso de não satisfação basta retirarmos o elemento neutro do domínio.\\
    c) Seja $Px:=x$ é par, para mesma estrutura $\mf{I}$ com $+$, o que c) diz é que existe um $x$ par tq para todo $y$, $x+y$ é par, o que é claramente falso, use, entretanto, $\cdot$ ao invés de $+$, então obviamente para todo $y$, $xy$ é par se $x$ for par.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.4.} Uma fórmula sem $\neg,\to$ e $\leftrightarrow$ é denominada \textit{positiva}. Prove que toda fórmula positiva é satisfatível.
\end{shaded}

\begin{proof}
    Seja $\mf{I}=(\mf{A},\beta)$ tq $\msf{Dom}(\mf{A})=\{a\}$ e $\beta(v)=a$, com $R_i^\mf{A}$ sendo o grafo da função identidade n-ária para todo $i$, assim como $f_i^\mf{A}=\text{id}$ e $c_i^\mf{A}=a$. De fato, $\mf{I}(t)=a,\forall t \in\mc{T}^\mc{S}$. Por indução em fórmulas é claro que $\mf{I}\vDash t_1\equiv t_2$ e $Rt_1\dots t_n$, logo também satisfaz $\varphi\wedge\psi$ e $\varphi\vee\psi$, o mesmo para $\forall x\varphi$ e $\exists x \varphi$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.9.}
Para fórmulas arbitrárias $\varphi,\psi,\chi$ prove que:\\
a) $(\varphi\vee\psi)\vDash\chi$ sse $\varphi\vDash\chi$ e $\psi\vDash\chi$;\\
b) $\vDash(\varphi\to\psi)$ sse $\varphi\vDash\psi$.
\end{shaded}

\begin{proof}
    a) ($\Rightarrow$) Basta provarmos que $(\varphi\vee\psi\rightarrow\chi)\vDash\Dashv((\varphi\rightarrow\chi)\wedge(\psi\rightarrow\chi))$, logo
    \begin{align*}
        \varphi\vDash\chi\text{ e }\psi\vDash\chi &\text{ sse para todo }\mf{I}\text{, se }\mf{I}\vDash\varphi\text{, então }\mf{I}\vDash\chi\text{, i.e., }\mf{I}\vDash(\varphi\rightarrow\chi)\text{ e, igualmente, }\mf{I}\vDash(\psi\rightarrow\chi);\\
        &\text{ sse }\mf{I}\vDash((\varphi\rightarrow\chi)\wedge(\psi\rightarrow\chi));\\
        &\text{ sse }\mf{I}\vDash(\varphi\vee\psi\rightarrow\chi);\\
        &\text{ sse }(\varphi\vee\psi)\vDash\chi.
    \end{align*}
    b) ($\Leftarrow$)
    \begin{align*}
        \varphi\vDash\psi & \text{ sse para todo }\mf{I}\text{ se }\mf{I}\vDash\varphi\text{ então }\mf{I}\vDash\psi;\\
        & \text{ sse para todo }\mf{I}\vDash(\varphi\to\psi);\\
        & \text{ sse }\vDash(\varphi\to\psi).
    \end{align*}
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.10.}
Mostre que:\\
(a) $\exists x\forall y\varphi\vDash\forall y\exists x\varphi;$\\
(b) $\forall y\exists xRxy~\nvDash~\exists x\forall yRxy$.
\end{shaded}

\begin{proof}
    (a) $\mf{I}\vDash\exists x\forall y\varphi$ sse existe um $a\in A$ tq $\mf{I}\frac{a}{x}\vDash\forall y\varphi$, então em particular existe um $a\in A$ tq $\mf{I}\frac{a}{x}\frac{t}{y}\vDash\varphi$ sendo $t\in A$ um termo genérico qualquer. Assim, devido a escolha arbitrária, concluímos que para todo $t\in A$ existe um $a\in A$ tq $\mf{I}\frac{a}{x}\frac{t}{y}\vDash\varphi$, i.e., $\mf{I}\vDash\forall y\exists x\varphi$.\\
    (b) $\mf{I}\vDash\forall y\exists xRxy$ sse para todo $a\in A$ existe um $t\in A$ tq $\mf{I}\vDash Rta$, mas isso não necessariamente implica que exista um $t$ tq $Rta$ valha para todo $a$.\\
    \textbf{Obs:} Lembre-se que a definição de satisfatibilidade é feita na metateoria que, por mais rigorosa que seja, é justificada pela noção intuitiva que temos de cada fórmula e justificada da mesma forma.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.11.} Prove que para $Q=\forall,\exists$:\\
a) $Qx(\varphi\wedge\psi)\vDash\Dashv(Qx\varphi\wedge Qx\psi)$;\\
b) $Qx(\varphi\vee\psi)\vDash\Dashv(\varphi\vee Qx\psi)$, se $x\notin\msf{free}(\varphi)$;\\
e justifique o motivo da assunção $x\notin\msf{free}(\varphi).$
\end{shaded}

\begin{proof}
    Provarei para $Q=\forall$ porque é fácil ver que a intuição se estende pro outro caso.\\
    a) Obviamente se para todo $a\in A$ temos $\mf{I}\frac{a}{x}\vDash\varphi$ e para todo $b\in A$ temos $\mf{I}\frac{b}{x}\vDash\psi$, então para todo $c\in A$, $\mf{I}\frac{c}{x}\vDash\varphi$ e $\mf{I}\frac{c}{x}\vDash\psi$, i.e., para todo $c\in A$, $\mf{I}\vDash(\varphi\wedge\psi)$, analogamente vale a volta. A justificativa se baseia no fato intuitivo de que se estamos variando pelo domínio todo de uma forma numa fórmula e de outra forma na outra, então podemos variar em ambas da mesma forma.\\
    b) $\mf{I}\vDash\forall x\varphi$ sse para todo $a\in A$, $\mf{I}\frac{a}{x}\vDash\varphi$, i.e., utilizamos a valoração $\beta$ que interpreta $x$ como $a$, mas como $x\notin\msf{free}(\varphi)$, então $\mf{I}\frac{a}{x}(\varphi)=\mf{I}(\varphi)$, a partir disso é fácil provar ambos b) e c).
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.12.}
Sejam $\varphi,\psi$ fórmulas tais que $\varphi\vDash\Dashv\psi$. Seja $\chi'$ obtido de $\chi$ substituindo todas as subfórmulas da forma $\varphi$ por $\psi$. Mostre que para todo $\chi,\chi\vDash\Dashv\chi'$.
\end{shaded}

\begin{proof}
    Provaremos por indução em fórmulas:\\
    Se $\chi=\varphi$ é atômica então $\mf{I}\vDash\varphi$ sse, por hipótese, $\mf{I}\vDash\chi'=\psi$;\\
    se $\chi=\neg\varphi$ então $\mf{I}\vDash\chi$ sse não vale $\mf{I}\vDash\varphi$ sse, por hipótese, não vale $\mf{I}\vDash\psi$, i.e., $\mf{I}\vDash\chi'=\neg\psi$;\\
    se $\chi=\xi\vee\varphi$ então $\mf{I}\vDash\chi$ sse $\mf{I}\vDash\xi$ ou $\mf{I}\vDash\varphi$ sse, por hipótese, $\mf{I}\vDash\xi$ ou $\mf{I}\vDash\psi$, i.e., $\mf{I}\vDash\chi'=\xi\vee\psi$;\\
    se $\chi=\exists x\varphi$ então $\mf{I}\vDash\chi$ sse existe um $a\in A$ tq $\mf{I}\frac{a}{x}\vDash\varphi$ sse, por hipótese, existe um $a\in A$ tq $\mf{I}\frac{a}{x}\vDash\psi$, i.e., $\mf{I}\vDash\chi'=\exists x\psi$.\\
    Portanto $\chi\vDash\Dashv\chi'$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.13.}
Prove o análogo ao \textbf{4.8.} para relação de consequência.
\end{shaded}

\begin{proof}
    Pelo \textbf{Lema 4.4.} é fácil estender o caso que o conjunto é satisfatível para consequência lógica.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.14.}
Um conjunto $\Phi$ de sentenças é dito \textit{independente} se não há um $\varphi\in\Phi$ tq $\Phi\backslash\{\varphi\}\vDash\varphi$. Mostre que os conjuntos $\Phi_\text{gr}$ e $\Phi_\text{eq}$ de axiomas dos grupos e relações de equivalência são independentes.
\end{shaded}

\begin{proof}
    (a) $\Phi_\text{gr} = \{\underbrace{\forall uvw((u\circ v)\circ w=u\circ(v\circ w))}_{\varphi_1},\underbrace{\forall u\exists v(u\circ v=e)}_{\varphi_2},\underbrace{\exists c\forall u(u\circ c=u)}_{\varphi_3}\}$\\
    (i) Como $\varphi_3$ garante a existência de um elemento neutro, mas não necessariamente precisamos interpretar $e$ como este, peguemos $(\mbb{N}\backslash\{1\},\cdot,0)$, de fato esta é associativa e possui um número que se operado com qualquer outro no domínio resulta em $0$, sendo este, é claro, também o $0$, então $\mf{I}\vDash\Phi_\text{gr}\backslash\{\varphi_3\}$, mas $\mf{I}\nvDash\varphi_3$; \\
    (ii) Como $\varphi_2$ garante a existência de um inverso, basta tomarmos a estrutura $(\mbb{N},+,0)$ em $\mf{I}$ que vale $\mf{I}\vDash\Phi_\text{gr}\backslash\{\varphi_2\}$, mas $\mf{I}\nvDash\varphi_2$;\\
    (iii) Como $\varphi_1$ garante associatividade tomamos o operador $\circ$ como não associativo, por exemplo a estrutura $(\mbb{Z},-,0)$ em $\mf{I}$ garante que $\mf{I}\vDash\Phi_\text{gr}\backslash\{\varphi_1\}$, mas $\mf{I}\nvDash\varphi_1$.\\\\
    (b) $\Phi_\text{eq} = \{\underbrace{\forall a(aRa)}_{\varphi_1},\underbrace{\forall ab(aRb\sse bRa)}_{\varphi_2},\underbrace{\forall abc(aRb\wedge bRc\to aRc)}_{\varphi_3}\}$\\
    (i) Para $\Phi_\text{eq}\backslash\{\varphi_3\}$ basta tomar $(\mbb{Z},\cdot,R)$ tq $aRb$ sse $a\cdot b \ge 0$. Assim ambos $\varphi_1,\varphi_2$ são satisfeitos, mas escolhendo $b=0$ em $\varphi_3$ tal relação não é sempre verdade;\\
    (ii) Para $\Phi_\text{eq}\backslash\{\varphi_2\}$ basta tomar $(\mbb{N},\ge)$, tal qual não é simétrica;\\
    (iii) Para $\Phi_\text{eq}\backslash\{\varphi_1\}$ basta tomar $A=\{a\}$ e $(A,R)$ tq $\forall a\in A(a\cancel{R}a)$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.15.} (Generalização do \textbf{Exercício 1.6.}). Seja $I\ne\varnothing$, $\forall i\in I$, seja $\mf{A}_i$ uma $\mc{S}$-estrutura. Denotaremos por $\prod_{i\in I}\mf{A}_i$ a $\mc{S}$-estrutura do produto direto das $\mc{S}$-estruturas $\mf{A}_i$:
$$\msf{Dom}\left(\prod_{i\in I}\mf{A}_i\right):=\left.\biggl\{g~\right|~ g:I\to\bigcup_{i\in I}\msf{Dom}(\mf{A}_i)\text{, e }g(i)\in\msf{Dom}(\mf{A}_i),\forall i\in I\biggr\}$$
i.e., n-tuplas de todas as possíveis combinações de elementos no domínio de cada estrutura (que denotaremos por $\langle g(i) \mid i \in I\rangle$), e:\\
para $R\in\mc{S}$ n-ária e $g_1,\dots,g_n\in\prod_{i\in I}\msf{Dom}(\mf{A}_i):$
$$R^\mf{A}g_1\dots g_n\text{ sse }R^{\mf{A}_i}g_1(i)\dots g_n(i), \forall i\in I;$$
para $f\in\mc{S}$ n-ária e $g_1,\dots,g_n\in\prod_{i\in I}\msf{Dom}(\mf{A}_i):$
$$f^\mf{A}(g_1,\dots,g_n):=\langle f^{\mf{A}_i}(g_1(i),\dots,g_n(i)) \mid i\in I\rangle;$$
e $c^\mf{A}:=\langle c^{\mf{A}_i}\mid i\in I\rangle$ para $c\in\mc{S}$.\\
Prove que para $t\in\mc{T}^\mc{S}$ se $\msf{var}(t)\subseteq\{v_0,\dots,v_{n-1}\}$ e $g_0,\dots,g_{n-1}\in\prod_{i\in I}\msf{Dom}(\mf{A}_i)$, então
$$t^\mf{A}[g_0,\dots,g_{n-1}]=\langle t^{\mf{A}_i}[g_0(i),\dots,g_{n-1}(i)]\mid i\in I\rangle~~(*)$$
\end{shaded}

\begin{proof}
    Se $t=c$, então, por definição, $c^\mf{A}=\langle c^{\mf{A}_i}\mid i\in I\rangle$. Se $t=x$, então, novamente por definição, $t^\mf{A}[g_0]=g_0=\langle g_0(i)\mid i\in I\rangle$. Provados os casos bases assuma $(*)$ como hipótese indutiva. Se $t=f(t_1,\dots,t_n)$, então $t^\mf{A}=f^\mf{A}(t_1^\mf{A},\dots,t_n^\mf{A})$, por hipótese para cada $t_i$ temos $t_i^\mf{A}=g_k$, para algum $g_k$, logo $t^\mf{A}=f^\mf{A}(g_{i_1},\dots,g_{i_n})$ que, por definição, é igual a $\langle f^{\mf{A}_i}(g_{i_1}(i),\dots,g_{i_n}(i))\mid i\in I\rangle$.
\end{proof}

\textbf{Obs:} Esse exercício captura a essência e os primeiros passos para introduzir o que os teoristas dos modelos chamam de \textit{Ultraprodutos} e \textit{Ultrapowers} (cuja tradução seria algo como ultrapotências) que são extremamente importantes para a construção de modelos não-padronizados como os hiperreais. Além disso nos providencia uma ferramenta extremamente útil para provar que determinadas classes de estruturas não são elementares, o Teorema de Łoś–Tarski, mas que infelizmente o Ebbinghaus não trata no livro dele.\\

\hrule

\begin{shaded}
\textbf{Exercício 4.16.} Fórmulas deriváveis no seguinte cálculo são denominadas fórmulas Horn:\\\\
\infer[\text{Se }n\in\mbb{N}\text{ e }\varphi_1,\dots,\varphi_n,\varphi\text{ são atômicas};]{(\neg\varphi_1\vee\dots\vee\neg\varphi_n\vee\varphi)}{}\\\\
\infer[\text{Se }n\in\mbb{N}\text{ e }\varphi_0,\dots,\varphi_n\text{ são atômicas};]{\neg\varphi_0\vee\dots\vee\neg\varphi_n}{}\\\\
\infer[;]{(\varphi\wedge\psi)}{\varphi,\psi}~~~~
\infer[;]{\forall x\varphi}{\varphi}~~~~
\infer[.]{\exists x\varphi}{\varphi}\\
Mostre que se $\varphi$ é uma \textit{sentença} Horn e se $\mf{A}_i\vDash\varphi,\forall i\in I$, então $\prod_{i\in I}\mf{A}_i\vDash\varphi$.
\end{shaded}

\begin{proof}
    Pelo teorema anterior temos $\prod_{i\in I}\mf{A}_i\vDash(t_1\overtext{.}{=}t_2)$ sse $t_1^\mf{A}=\langle t_1^{\mf{A}_i}\mid i\in I\rangle=t_2^\mf{A}=\langle t_2^{\mf{A}_i}\mid i\in I\rangle$, i.e., $t_1^{\mf{A}_i}=t_2^{\mf{A}_i},\forall i\in I$, então obviamente se cada $\mf{A}_i$ o satisfaz, o produto direto também. É fácil estender o argumento paras outras fórmulas atômicas. Disso é fácil tirar que se todas as estruturas satisfazem negações e disjunções de fórmulas atômicas, então o produto direto também satisfaz.\\
    Provado o caso base assuma como hipótese de indução que se $\mf{A}_i\vDash\varphi,\forall i\in I$, então $\prod_{i\in I}\mf{A}_i\vDash\varphi$. Se $\mf{A}_i\vDash(\varphi\wedge\psi)$, então $\mf{A}_i\vDash\varphi$ e $\mf{A}_i\vDash\psi$, por hipótese isso implica que $\prod_{i\in I}\mf{A}_i\vDash\varphi$ e $\prod_{i\in I}\mf{A}_i\vDash\psi$, i.e., $\prod_{i\in I}\mf{A}_i\vDash(\varphi\wedge\psi)$. Da mesma forma, $\mf{A}_i\vDash\exists x\varphi$ sse existe $a\in\msf{Dom}(\mf{A}_i)$ tq $\mf{A}_i\frac{a}{x}\vDash\varphi$, se em cada domínio das $\mf{A}_i$ há um elemento que satisfaz, em particular pegando $a_i\in\msf{Dom}(\mf{A}_i)$ temos que a n-tupla $(a_1,\dots,a_n)\in\msf{Dom}\left(\prod_{i\in I}\mf{A}_i\right)$ também satisfaz, o argumento é análogo para $\forall x\varphi$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 5.9.} Seja $\mc{S}\prec\aleph_0$ um conjunto de símbolos e $\mf{A}$ uma $\mc{S}$-estrutura tq $\msf{Dom}(\mf{A})\prec\aleph_0$. Mostre que há $\varphi_\mf{A}\in\mc{L}_0^\mc{S}$ cujos modelos são exatamente aquelas $\mc{S}$-estruturas isomórficas a $\mf{A}$.
\end{shaded}

\begin{proof}
    Construiremos $\varphi_\mf{A}$ em função de $\mf{A}$, enumere $\msf{Dom}(\mf{A})=\{a_0,\dots,a_{n-1}\}$. Como $\mc{S}\prec\aleph_0$, então para especificamente $x_1,\dots,x_n\in\msf{Var}$ defina $\Phi:=\{\varphi\mid \varphi\text{ é atômica e }\msf{free}(\varphi)=\{x_1,\dots,x_n\}\}$ o conjunto de $\mc{S}$-fórmulas atômicas com exatamente $x_1,\dots,x_n$ como variáveis livres. Obviamente $\Phi\prec\aleph_0$, enumere portanto $\Phi=\{\varphi_1,\dots,\varphi_k\}$. Defina por indução $\Psi_0:=\varnothing$ e\\
    $$\Psi_m:=
    \begin{cases}
        \Psi_{m-1}\cup\{\varphi_m\}\text{, se }\mf{A}\vDash\varphi_m[a_1,\dots,a_n];\\
        \Psi_{m-1}\cup\{\neg\varphi_m\}\text{, se } \mf{A}\nvDash\varphi_m[a_1,\dots,a_n].
    \end{cases}$$
    com isso o conjunto $$\Psi:=\bigcup_{i=1}^{k}\Psi_i$$ tem cardinalidade igual a $\Phi$ e, portanto, é finito. Obviamente $\Psi$ possui todas as informações necessárias para definirmos todas as funções, relações e constantes e suas dependências com os elementos do domínio, portanto toda estrutura que satisfaz $\Psi$ terá tais propriedades, basta agora garantir que o domínio dessa nova estrutura esteja em bijeção com o de $\mf{A}$, defina então:
    $$\varphi_\mf{A}:=\exists x_1\dots x_n\left(\bigwedge\Psi\wedge\forall x\left(\bigvee_{i=1}^n x\overtext{.}{=}x_i\right)\right)$$
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 5.10.}
Mostre que: (a) A relação $<$ é elementarmente definível em $(\mbb{R},+,\cdot,0)$, i.e., existe uma fórmula $\varphi\in\mc{L}^{\{+,\cdot,0\}}_2$ tq $\forall a,b\in\mbb{R}$:
\[
(\mbb{R},+,\cdot,0)\vDash\varphi[a,b]\text{ sse }a<b.
\]
(b) A relação $<$ não é elementarmente definível em $(\mbb{R},+,0)$.
\end{shaded}

\begin{proof}
    (a) Tome $\varphi=\exists c(\neg(c\overtext{.}{=}0)\wedge(b\overtext{.}{=}a+c^2))$, dessa forma $(\mbb{R},+,\cdot,0)\vDash\varphi[a,b]$ sse $a<b$.\\
    (b) Seja $\pi:\mf{A}\cong\mf{A}$ um automorfismo em $\mf{A}=(\mbb{R},+,\cdot,0)$ tq $\pi(a) = -a$ que é o $c\in\mbb{R}$ tq $a+c=0$. Para provar que $\pi$ é um automorfismo precisamos:\\
    (i) $\pi$ é uma bijeção;\\
    (ii) $\pi(a+b)=\pi(a)+\pi(b)$;\\
    (iii) $\pi(0)=0$.\\
    Como todos são verficados isso garante que é um automorfismo. Agora vejamos que se existe um $\varphi[a,b]$ tq $\mf{A}\vDash\varphi[a,b]$ sse $a<b$ então como $\pi$ é estritamente decrescente, $\mf{A}\vDash\varphi[\pi(a),\pi(b)]$ sse $a>b$. Sabemos, também, pelo \textbf{Lema do Isomorfismo} que $\mf{A}\vDash\varphi[a,b]$ sse $\mf{A}\vDash\varphi[\pi(a),\pi(b)]$, i.e., $a<b$ sse $b<a$, o que é uma contradição, portanto não existe tal $\varphi[a,b]$ e, com isso, $<$ não é elementarmente definível.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 5.11.} Alterando o cálculo das fórmulas universais substituindo o quantificador universal em (iii) por um existencial conseguimos o cálculo de fórmulas existenciais. Prove que: \\
a) A negação de uma sentença universal é logicamente equivalente a uma sentença existencial, e vice versa;\\
b) Se $\mf{A}\subseteq\mf{B}$ e $\varphi$ é uma sentença existencial, então $\mf{A}\vDash\varphi\implies\mf{B}\vDash\varphi$.
\end{shaded}

\begin{proof}
    a) Caso base para ambas: Se $\varphi$ é livre de quantificadores, obviamente $\neg\varphi$ também é, portanto se $\varphi$ é uma sentença universal, $\neg\varphi$ é existencial e vice versa. Tomemos como hipótese indutiva que se $\varphi$ é universal/existencial, então $\neg\varphi$ é existencial/universal. Se $\varphi=(\psi\wedge\chi)$, então $\neg\varphi$ é logicamente equivalente a $\neg\psi\vee\neg\chi$, assim como para $\varphi=(\chi\vee\psi)$ temos $\neg\psi\wedge\neg\chi$, por hipótese é fácil ver que a propriedade é preservada para ambos os casos. Da mesma forma se $\varphi=\forall x\psi$, então $\neg\varphi$ é logicamente equivalente a $\exists x\neg\varphi$, o caso contrário é análogo.\\
    b) Por a) sabemos que $\neg\varphi$ é logicamente equivalente a uma fórmula universal, se $\mf{A}\vDash\varphi$, então $\mf{A}\nvDash\neg\varphi$, pela contraposição do \textbf{Corolário 5.8.} temos que $\mf{B}\nvDash\neg\varphi$, i.e., $\mf{B}\vDash\varphi$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 6.7.} Formalize as seguintes declarações usando o conjunto de símbolos de 6.2.:\\
a) Todo real positivo tem uma raiz quadrada positiva;\\
b) Se $\rho$ é estritamente monótona, então $\rho$ é injetiva;\\
c) $\rho$ é uniformemente contínua em $\mbb{R}$;\\
d) para todo $x$, se $\rho$ é diferenciável em $x$, então $\rho$ é contínua em $x$.
\end{shaded}

\begin{proof}
    a) $\forall x\exists y(0<y\wedge y\cdot y\overtext{.}{=}x)$;\\
    b) $(\forall x\forall y(x<y\rightarrow\rho(x)<\rho(y))\vee\forall x\forall y(x<y\rightarrow\rho(y)<\rho(x)))\rightarrow\forall x\forall y(\rho(x)\overtext{.}{=}\rho(y)\rightarrow x\overtext{.}{=}y);$\\
    c) $\forall u(0<u\rightarrow\exists v(0<v\wedge\forall x\forall y(\Delta(x,y)<v\rightarrow\Delta(\rho(x),\rho(y))<u)));$\\
    d) Sejam $$C(x):=\forall u(0<u\rightarrow\exists v(0<v\rightarrow\forall y(\Delta(y,x)<v\rightarrow\Delta(\rho(y),\rho(x))<u)));$$
    $$L(\ell, f(y), p):=\forall u(0<u\rightarrow\exists v(0<v\wedge\forall y((0<\Delta(y,p)\wedge\Delta(y,p)<v)\rightarrow\Delta(f(y),\ell)<u).$$
    Logo $\forall z(\exists w(\rho(x+y)\overtext{.}{=}w\cdot y+\rho(x)\wedge\exists\ell(L(\ell,w,0)))\rightarrow C(x)).$
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 6.8.} Seja $S_\text{eq}=\{R\}$, formalize:\\
a) $R$ é uma relação de equivalência com no mínimo duas classes de equivalência;\\
b) $R$ é uma relação de equivalência com uma classe de equivalência contendo mais de um elemento.
\end{shaded}

\begin{proof}
    a) $\bigwedge\Phi_\text{eq}\wedge\exists a\exists b(Rab\wedge\exists c(\neg Rac))$;\\
    b) $\bigwedge\Phi_\text{eq}\wedge\exists a\exists b(Rab\wedge\neg(a\overtext{.}{=}b))$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 6.9.} Utilize o \textbf{Exercício 4.16.} para provar que:\\
a) Se para todo $i\in I$ a estrutura $\mf{A}_i$ é um grupo, então $\prod_{i\in I}\mf{A}_i$ é um grupo;\\
b) Nem a teoria da ordem, nem a dos corpos, pode ser axiomatizada por uma sentença de Horn.
\end{shaded}

\begin{proof}
    a) Seja $\mf{A}=\prod_{i\in I}\mf{A}_i$, vale que $\mf{A}\vDash\forall x(x\circ e\overtext{.}{=}x)$ sse para todo $g\in\msf{Dom}(\mf{A})$ temos $g\circ^\mf{A}e^\mf{A}=g$, i.e., $\langle g(i)\circ^{\mf{A}_i}e^{\mf{A}_i}\mid i\in I\rangle=\langle g(i)\mid i\in I\rangle$ que é igual sse $g(i)\circ^{\mf{A}_i}e^{\mf{A}_i}=g(i),\forall i\in I$ o que, por hipótese, é verdade. Destrinchando os axiomas de grupo desta forma é fácil mostrar que $\mf{A}\vDash\Phi_\text{gr}$.\\
    b) Assuma que $\varphi_\text{fd}=\bigwedge\Phi_\text{fd}$ a conjunção dos axiomas de corpos seja uma sentença Horn, pelo \textbf{Exercício 1.6.} o produto direto de duas estruturas de corpos $\mf{C}=\mf{A}\times\mf{B}$ não é um corpo e, pelo \textbf{Exercício 4.16.}, deveria ser. Contradição, então $\varphi_\text{fd}$ não é uma sentença Horn.\\
    Igualmente se $\varphi_\text{ord}=\bigwedge\Phi_\text{ord}$ é uma sentença de Horn, então se $\mf{A},\mf{B}$ são estruturas de ordem, $\mf{C}=\mf{A}\times\mf{B}$ precisa também ser. Note que $\mf{C}\vDash\forall xy(x<y\vee x\overtext{.}{=}y\vee y<x)$ sse para $x=(a,b)$ e $y=(p,q)$ temos $\forall(a,b)(p,q)((a<p\wedge b<q)\vee(a=p\wedge b=q)\vee(p<a\wedge q<b))$, entretando escolhendo $(a,b),(p,q)$ tq $a<p$ e $b>q$ temos $\mf{C}$ não o satisfaz, contradição.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 6.10.} $M\subseteq\mbb{N}$ é denominado \textit{spectrum} se há um conjunto de símbolos $\mc{S}$ e uma $\mc{S}$-sentença $\varphi$ tq
$$M=\{n\in\mbb{N}\mid\varphi\text{ possui um modelo com exatamente }n\text{ elementos}\}.$$
Prove que é um spectrum: a) Todo $N\subseteq\mbb{N}\backslash\{0\}$ finito;\\
b) $\{n\in\mbb{N}\backslash\{0\}\mid(n\equiv 0~(\text{mod }m))\wedge m\ge1\}$;\\
c) $\{n^2\mid n\in\mbb{N}\backslash\{0\}\}$;\\
d) $\{n\in\mbb{N}\backslash\{0\}\mid n\text{ não é primo}\}$;\\
e) $\{n\in\mbb{N}\mid n\text{ é primo}\}$.
\end{shaded}

\begin{proof}
    a) Seja $\varphi_{\ge n}:=\bigwedge_{i,j\in\{1,\dots,n\}}\neg(v_i\overtext{.}{=}v_j)$, então $$\varphi_n:=\exists v_1\dots v_n\left(\varphi_{\ge n}\wedge\forall v\left(\bigvee_{i=1}^n v\overtext{.}{=} v_i\right)\right)$$ é a formalização de \textit{há exatamente $n$ elementos}.\\
    Como $N\prec\aleph_0$ enumere $N=\{a_1,\dots,a_n\}$, logo podemos descrever $N=\bigl\{n\in\mbb{N}\mid\bigvee_{i=1}^n\varphi_{a_i}\bigr\}$.\\
    b) Pegue $\mc{S}=\{R\}$ e defina $$\varphi=\bigwedge\Phi_\text{eq}\wedge\exists v_1\dots v_n\left(\varphi_{\ge n}\wedge\forall v\left(\bigvee_{i=1}^nRvv_i\right)\right)$$
    Isso garante não só que $R$ seja uma relação de equivalência como que o conjunto quociente $\msf{Dom}(\mf{A})/R$ de qualquer modelo de $\varphi$ terá exatamente $n$ classes de equivalência, como todas possuem a mesma cardinalidade tem de ser possível particionar o domínio em $n$ conjuntos diferentes, i.e., ser um múltiplo de $n$.\\
    c) Seja $\mc{S}=\{R,f,g\}$ a ideia é formalizar $\psi$ tq $f,g:\msf{Dom}(\mf{A})\to R$, $\chi$ tq $(f(x),g(x))$ é injetivo e $\xi$ que é sobrejetivo, i.e.:
    \begin{align*}
        \psi & := \forall x(Rf(x)\wedge Rg(x));\\
        \chi & := \forall x\forall y((f(x)=f(y)\wedge g(x)=g(y))\rightarrow x=y);\\
        \xi & := \forall x\forall y((Rx\wedge Ry)\rightarrow\exists z(f(z)=x\wedge g(z)=y)).
    \end{align*}
    Logo, se $\mf{A}\vDash\varphi:=\psi\wedge\chi\wedge\xi$, então $\mf{A}$ possui uma bijeção de $\msf{Dom}(\mf{A})$ em $R^2$, i.e., a cardinalidade do domínio será o quadrado de um natural. Para provarmos que sempre haverá um modelo para cada quadrado perfeito contruiremos um modelo para $\varphi$. Seja $\msf{Dom}(\mf{A}):=\{1,\dots,m\}$ e defina $R:=\{1,\dots,p\}$, se $f(x)$ é o quociente de $x\in\msf{Dom}(\mf{A})$ por $p$ e $g(x)$ o resto, então $x=pf(x)+g(x)$ com $f,g$ unicamente determinados, então para cada $x$ no domínio existem $(f(x),g(x))\in R^2$ e vice versa.\\
    d) \textbf{\color{red}{PENDENTE}}\\
    e) $\varphi:=\bigwedge\Phi_\text{ofd}\wedge\forall x(\neg(x\overtext{.}{=}x+1)\rightarrow x<x+1)$ garante, visto que todo corpo finito tem característica prima e, portanto, contém $p^n$ elementos, a última restrição garante que $n=1$. Assuma por contradição que existe $\mf{A}\vDash\varphi$ tq $n\ne1$, então $\exists a\notin\mbb{F}_p$, portanto $a\ne0$, a vista disso temos $a<a+1<\dots<a+p=a$, contradição, visto que $<$ é uma relação de ordem total.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 7.5.} Prove que:\\
a) Se $\mf{A}=(A,+^A,\cdot^A,0^A,1^A)\vDash\Pi$ e se $\sigma^A:A\to A$, dada por $\sigma^A(a)=a+^A1^A$, então $(A,\sigma^A,0^A)\vDash$(P1)-(P3).\\
b) $\mf{N}=(\mbb{N},+,\cdot,0,1)$ é caracterizada por $\Pi$ até o isomorfismo.
\end{shaded}

\begin{proof}
    a) Interpretemos em $\mf{A}$ os 3 primeiros axiomas de $\Pi$:\\
    (i) $\forall x(\neg x+^A1^A\overtext{.}{=}0^A)$ sse $\forall x(\neg\sigma(x)\overtext{.}{=}0)$ (P1);\\
    (ii) $\forall xy(x+^A1^A\overtext{.}{=}y+^A1^A\rightarrow x\overtext{.}{=}y)$ sse $\forall xy(\sigma(x)\overtext{.}{=}\sigma(y)\rightarrow x\overtext{.}{=}y)$ (P2);\\
    (iii) $\forall X((X0^A\wedge\forall x(Xx\rightarrow Xx+^A1^A))\rightarrow\forall yXy)$ sse $\forall X((X0^A\wedge\forall x(Xx\rightarrow X\sigma(x)))\rightarrow\forall yXy)$ (P3).\\
    b) Seja $\mf{A}=(A,+^A,\cdot^A,0^A,1^A)\vDash\Pi$ para $\pi:\mf{N}\cong\mf{A}$ definimos indutivamente:\\
    $\pi(0)=0^A$;\\
    $\pi(x+1)=\pi(x)+^A1^A$.\\
    Demonstraremos agora que $\pi$ é bijetivo:\\
    Sobretividade: a definição garante o caso base, $0^A\in\msf{Im}(\pi)$. Assuma por hipótese $a=\pi(n)\in\msf{Im}(\pi)$, logo $a+^A1^A=\pi(n)+^A1^A=\pi(n)+^A\pi(1)$, por definição $a+^A1^A=\pi(n+1)\in\msf{Im}(\pi)$.\\
    Injetividade: Queremos provar que $\forall nm(n\ne m\rightarrow\pi(n)\ne\pi(m))$. Indução em $n$:\\
    Caso base: $n=0$ e $m\ne0$, em particular, assuma sem perda de generalidade, que $m=k+1$, logo $\pi(n)=0^A$ e $\pi(m)=\pi(k+1)$, pela primeira sentença em $\Pi$, $k+1\ne0$, portanto $\pi(m)=\pi(k+1)\ne\pi(0)=0^A=\pi(n)$.\\
    Provado o caso base assuma como hipótese de indução que $\forall m(n\ne m\rightarrow\pi(n)\ne\pi(m))$, façamos agora indução dupla, dessa vez em $m$:\\
    Caso base: $m=0$ e $n\ne0$, em especial $n=k+1$, a prova deste é análogo ao caso base em $n$.\\
    Hipótese indutiva: $n\ne m\rightarrow\pi(n)\ne\pi(m)$, sejam $n,m\ne0$, então $n=p+1$ e $m=q+1$, se $n\ne m$, i.e., $\neg(p+1=q+1)$, por 2 em $\Pi$, $p\ne q$ e, por hipótese, $\pi(p)\ne\pi(q)$, portanto, se $\pi(n)=\pi(p)+^A1^A=\pi(m)=\pi(q)+^A1^A$, também por 2 em $\Pi$ temos $\pi(p)=\pi(q)$, contradição, logo $\pi(n)\ne\pi(m)$.\\
    Se $\pi$ é isomorfismo, provemos que (i) $\pi(n+m)=\pi(n)+^A\pi(m)$ e (ii) $\pi(n\cdot m)=\pi(n)\cdot^A\pi(m)$:\\
    (i)\\
    Caso base: $\pi(m+0)=\pi(m)=\pi(m)+^A0^A=\pi(m)+^A\pi(0)$, pela propriedade 4 em $\Pi$.\\
    Assuma $\pi(n+m)=\pi(n)+^A\pi(m)$ como hipótese de indução:
    \begin{align*}
        \pi(m+(n+1)) & = \pi((m + n) + 1) & \text{(P5)};\\
        & = \pi(m + n)+^A1^A & \text{definção};\\
        & = (\pi(m)+^A\pi(n))+^A1^A & \text{passo indutivo};\\
        & = \pi(m)+^A(\pi(n)+^A1^A) & \text{(P5)};\\
        & = \pi(m)+^A\pi(n+1) & \text{definição}.
    \end{align*}
    (ii)\\
    Caso base: $\pi(m\cdot0)=\pi(0)=\pi(m)\cdot0^A=\pi(m)\cdot\pi(0)$, pela propriedade 6 em $\Pi$.\\
    Assuma $\pi(n\cdot m)=\pi(n)\cdot^A\pi(m)$ como hipótese e indução:
    \begin{align*}
        \pi(m\cdot(n+1)) & = \pi(m\cdot n + m) & \text{(P7)};\\
        & = \pi(m\cdot n)+^A\pi(m); & \\
        & = (\pi(m)\cdot^A\pi(n))+^A\pi(m) & \text{passo indutivo};\\
        & = \pi(m)\cdot^A(\pi(n)+^A1^A) & \text{(P7)};\\
        & = \pi(m)\cdot^A\pi(n+1) & \text{definição}.
    \end{align*}
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 8.8.} Para $n\ge1$ dê uma definição similar dos quantificadores "\textit{existe no máximo} $n$" e "\textit{existe exatamente} $n$".
\end{shaded}

\begin{proof}
    \textit{existe no máximo} $n$ pode ser formalizado como
    $$\exists v_1\dots v_n\forall v\left(\bigwedge_{i=1}\varphi\frac{v}{v_i}\rightarrow\bigvee_{j=1}v\overtext{.}{=}v_j\right)$$
    enquanto que, para garantir a existência de exatamente $n$, restringimos as variáveis para:
    $$\exists v_1\dots v_n\forall v\left(\bigwedge_{x,y\in\{1,\dots,n\}}\neg v_x\overtext{.}{=}v_u\wedge\bigwedge_{i=1}\varphi\frac{v}{v_i}\rightarrow\bigvee_{j=1}v\overtext{.}{=}v_j\right)$$
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 8.9.} Sejam $P$ e $f$ binária e $x:=v_0,y:=v_1,u:=v_2,v:=v_3$ e $w:=v_4$. Mostre, usando a \textbf{Definição 8.2.} que:\\
a) $\exists xy(Pxu\wedge Pyv)\frac{u~u~u}{x~y~v}=\exists xy(Pxu\wedge Pyu)$;\\
b) $\exists xy(Pxu\wedge Pyv)\frac{v~fuv}{u~~v}=\exists xy(Pxv\wedge Pyfuv)$;\\
c) $\exists xy(Pxu\wedge Pyv)\frac{u~x~fuv}{x~u~~v}=\exists wy(Pwx\wedge Pyfuv)$;\\
d) $(\forall x\exists y(Pxy\wedge Pxu)\vee\exists ufuu\overtext{.}{=}x)\frac{x~fxy}{x~~u}=\forall v\exists w(Pvw\wedge Pvfxy)\vee\exists ufuu\overtext{.}{=}x$.
\end{shaded}

\begin{proof}
    a)
    \begin{align*}
        \exists xy(Pxu\wedge Pyv)\frac{u~u~u}{x~y~v} & = \exists x\left(\exists y(Pxu\wedge Pyv)\frac{u~u~x}{y~v~x}\right);\\
        & = \exists xy\left(Pxu\frac{u~x~y}{v~x~y}\wedge Pyv\frac{u~x~y}{v~x~y}\right);\\
        & = \exists xy(Pxu\wedge Pyu).
    \end{align*}
    b)
    \begin{align*}
        \exists xy(Pxu\wedge Pyv)\frac{v~fuv}{u~~v} & = \exists x\left(\exists y(Pxu\wedge Pyv)\frac{v~fuv~x}{u~~v~~x}\right);\\
        & = \exists xy\left(Pxu\frac{v~fuv~x~y}{u~~v~~x~y}\wedge Pyv\frac{v~fuv~x~y}{u~~v~~x~y}\right);\\
        & = \exists xy(Pxv\wedge Pyfuv).
    \end{align*}
    c)
    \begin{align*}
        \exists xy(Pxu\wedge Pyv)\frac{u~x~fuv}{x~u~~v} & = \exists w\left(\exists y(Pxu\wedge Pyv)\frac{x~fuv~w}{u~~v~~x}\right);\\
        & = \exists wy\left(Pxu\frac{x~fuv~w~y}{u~~v~~x~y}\wedge Pyv\frac{x~fuv~w~y}{u~~v~~x~y}\right);\\
        & = \exists wy(Pwx\wedge Pyfuv).
    \end{align*}
    d)
    \begin{align*}
        (\forall x\exists y(Pxy\wedge Pxu)\vee\exists ufuu\overtext{.}{=}x)\frac{x~fxy}{x~~u} & =
        \forall v\left(\exists y(Pxy\wedge Pxu)\frac{fxy~v}{u~~x}\right)\vee\exists ufuu\frac{x~u}{x~u}\overtext{.}{=}x\frac{x~u}{x~u};\\
        & = \forall v\exists w\left(\left(Pxy\frac{fxy~v~w}{u~~x~y}\wedge Pxu\frac{fxy~v~w}{u~~x~y}\right)\vee \exists ufuu\overtext{.}{=}x\right);\\
        & = \forall v\exists w((Pvw\wedge Pvfxy)\vee\exists ufuu\overtext{.}{=}x).
    \end{align*}
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 8.10.} Mostre que se $x_0,\dots,x_r\notin\bigcup_{i=0}^r\msf{var}(t_i)$, então
$$\varphi\frac{t_0\dots t_r}{x_0\dots x_r}\vDash\Dashv\forall x_0\dots x_r\left(\bigwedge_{i=0}^rx_i\overtext{.}{=}t_i\rightarrow\varphi\right).$$
\end{shaded}

\begin{proof}
    Assuma que $(*)$ $\mf{I}\frac{a}{x}(t)=\mf{I}(t)$ se $x\notin\msf{var}(t)$ e que (+) $\varphi\rightarrow(\psi\rightarrow\chi)\vDash\Dashv(\varphi\wedge\psi)\rightarrow\chi$, então:\\
    Caso base: $r = 0$, temos
    \begin{align*}
        \mf{I}\vDash\varphi\frac{t_0}{x_0} & \text{ sse }\mf{I}\frac{t_0}{x_0}\vDash\varphi; & \text{ lema da substituição}\\
        & \text{ sse para todo }a\in A\text{, se }a=\mf{I}(t_0)\text{, então }\mf{I}\frac{a}{x_0}\vDash\varphi; &  \\
        & \text{ sse para todo }a\in A\text{, se }\mf{I}\frac{a}{x_0}(x_0)=\mf{I}\frac{a}{x_0}(t_0)\text{, então }\mf{I}\frac{a}{x_0}\vDash\varphi; & \text{ por }(*)\\
        & \text{ sse para todo }a\in A\text{, se }\mf{I}\frac{a}{x_0}\vDash x_0\overtext{.}{=}t_0\text{, então }\mf{I}\frac{a}{x_0}\vDash\varphi; &\\
        & \text{ sse }\mf{I}\vDash\forall x_0(x_0\overtext{.}{=}t_0\rightarrow\varphi). &
    \end{align*}
    Hipótese de indução: assuma que vale o enunciado para $r$
    \begin{align*}
        \mf{I}\vDash\varphi\frac{t_0\dots t_{r+1}}{x_0\dots x_{r+1}} & \text{ sse }\mf{I}\vDash\left(\varphi\frac{t_0\dots t_r}{x_0\dots x_r}\right)\frac{t_{r+1}}{x_{r+1}};\\
        & \text{ sse }\mf{I}\frac{t_{r+1}}{x_{r+1}}\vDash\varphi\frac{t_0\dots t_r}{x_0\dots x_r};~~~~~~~~~~~~~~~~~~~~~~~~\text{ lema da substituição}\\
        & \text{ sse }\mf{I}\frac{t_{r+1}}{x_{r+1}}\vDash\forall x_0\dots x_r\left(\bigwedge_{i=0}^rx_i\overtext{.}{=}t_i\rightarrow\varphi\right);\text{ hipótese de indução}\\
        & \text{ sse para todo }a\in A\text{, se }\mf{I}\frac{a}{x_{r+1}}\vDash x_{r+1}\overtext{.}{=}t_{r+1}\text{, então }\mf{I}\frac{t_{r+1}}{x_{r+1}}\vDash\varphi\frac{t_0\dots t_r}{x_0\dots x_r};\\
        & \text{ sse }\mf{I}\vDash\forall x_{r+1}\left(x_{r+1}\overtext{.}{=}t_{r+1}\rightarrow\forall x_0\dots x_r\left(\bigwedge_{i=0}^rx_i\overtext{.}{=}t_i\rightarrow\varphi\right)\right);\\
        & \text{ sse }\mf{I}\vDash\forall x_0\dots x_{r+1}\left(x_{r+1}\overtext{.}{=}t_{r+1}\rightarrow\left(\bigwedge_{i=0}^rx_i\overtext{.}{=}t_i\rightarrow\varphi\right)\right);\\
        & \text{ sse }\mf{I}\vDash\forall x_0\dots x_{r+1}\left(\left(x_{r+1}\overtext{.}{=}t_{r+1}\wedge\bigwedge_{i=0}^rx_i\overtext{.}{=}t_i\right)\rightarrow\varphi\right);\text{ por (+)};\\
        & \text{ sse }\mf{I}\vDash\forall x_0\dots x_{r+1}\left(\bigwedge_{i=0}^{r+1}x_i\overtext{.}{=}t_i\rightarrow\varphi\right).
    \end{align*}
    $(*)$: Se $t=v_0$ uma variável qualquer, como $x\notin\msf{var}(t)$ temos $x\ne v_0$, portanto $\mf{I}\frac{a}{x}(t)=\mf{I}(t)$ e se $t=c$ obviamente também. Assuma que valha $\mf{I}\frac{a}{x}(t)=\mf{I}(t)$, então $\mf{I}\frac{a}{x}(ft_1\dots t_n)=f^\mf{A}\mf{I}\frac{a}{x}(t_1)\dots\mf{I}\frac{a}{x}(t_n)=f^\mf{A}\mf{I}(t_1)\dots\mf{I}(t_n)=\mf{I}(ft_1\dots t_n)$, pela hipótese de indução.\\
    (+):
    \begin{align*}
        \varphi\rightarrow(\psi\rightarrow\chi) & \vDash\Dashv \neg\varphi\vee(\psi\rightarrow\chi);\\
        & \vDash\Dashv \neg\varphi\vee\neg\psi\vee\chi;\\
        & \vDash\Dashv \neg(\varphi\wedge\psi)\vee\chi;\\
        & \vDash\Dashv (\varphi\wedge\psi)\rightarrow\chi.
    \end{align*}
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 8.11.} Formalize um cálculo que derive strings exatamente da forma: $$tx_0\dots x_rt_0\dots t_rt\frac{t_0\dots t_r}{x_0\dots x_r}\text{ ou }\varphi x_0\dots x_rt_0\dots t_r\varphi\frac{t_0\dots t_r}{x_0\dots x_r}.$$
\end{shaded}

\begin{proof}
    Da mesma forma que criamos o cálculo para outras regras de formação, como termos e fórmulas, basta repetir o mesmo para a definição de substituição.\\
    Para o cálculo de substituição de termos:\\\\
    $\infer[\text{ Se }x\ne x_0,\dots,x_r;]{x~x_0\dots x_r~t_0\dots t_r~x}{}~~~~~~\infer[\text{ Se }x=x_1;]{}{x~x_0\dots x_r~t_0\dots t_r~t_i}$\\\\
    $ \infer[\text{ Se }c\in\mc{S};]{c~x_0\dots x_r~t_0\dots t_r~c}{}$\\\\
    $\infer[\text{ Se }f\in\mc{S}\text{, n-ária}.]{ft_1'\dots t_n'~x_0\dots x_r~t_0\dots t_r~fs_1\dots s_n}{t_1'~x_0\dots x_r~t_0\dots t_r~s_1 & \dots & t_n'~x_0\dots x_r~t_0\dots t_r~s_n}$\\\\
    Para o cálculo de substituição de fórmulas:\\\\
    $ \infer[;]{t_1'\overtext{.}{=}t_2'~x_0\dots x_r~t_0\dots t_r~s_1\overtext{.}{=}s_2}{t_1'~x_0\dots x_r~t_0\dots t_r~s_1 & t_2'~x_0\dots x_r~t_0\dots t_r~s_2}$\\\\
    $\infer[\text{ Se }R\in\mc{S}\text{, n-ária};]{Rt_1'\dots t_n'~x_0\dots x_r~t_0\dots t_r~Rs_1\dots s_n}{t_1'~x_0\dots x_r~t_0\dots t_r~s_1 & \dots & t_n'~x_0\dots x_r~t_0\dots t_r~s_n}$\\\\
    $\infer[;]{\neg\varphi~x_0\dots x_r~t_0\dots t_r~\neg\psi}{\varphi~x_0\dots x_r~t_0\dots t_r~\psi}~~~~
    \infer[.]{\varphi\vee\psi~x_0\dots x_r~t_0\dots t_r~\chi\vee\xi}{\varphi~x_0\dots x_r~t_0\dots t_r~\chi & \psi~x_0\dots x_r~t_0\dots t_r~\xi}$\\\\
    $x_{i_1}\dots x_{i_s}$ $(i_1<\dots<i_s)$ são as variáveis em $x_0,\dots, x_r$ tq $x_i\in\msf{free}(\exists x\varphi)$, $x_i\ne t_i$ e $x\ne x_{i_1},\dots,x_{i_s}$\\\\
    $\infer[]{\exists x\varphi~x_0\dots x_r~t_0\dots t_r~\exists u\psi}{\varphi~x_{i_1}\dots x_{i_s}x~t_{i_1}\dots t_{i_s} u~\psi}$\\\\
    onde $u=x$ se $x\notin\msf{free}(t_{i_1},\dots,t_{i_s})$, caso contrário $u$ é a primeira variável $v_0,v_1,\dots\notin\msf{var}(\varphi,t_{i_1},\dots,t_{i_s})$.
\end{proof}

\section{Cálculo de Sequentes}

\begin{shaded}
\textbf{Exercício 2.7.} Analise quais das regras abaixo estão corretas:
$$\infer[  (i);]{\Gamma~(\varphi_1\vee\varphi_2)~(\psi_1\vee\psi_2)}{\Gamma~\varphi_1~\psi_1&&\Gamma~\varphi_2~\psi_2}~~~~~~
\infer[  (ii).]{\Gamma~(\varphi_1\vee\varphi_2)~(\psi_1\wedge\psi_2)}{\Gamma~\varphi_1~\psi_1&&\Gamma~\varphi_2~\psi_2}$$
\end{shaded}

\begin{proof}
    Provemos primeiro que $(i)$ é correta:
    $$\infer[(\vee\textbf{A})]{\Gamma~(\varphi_1\vee\varphi_2)~(\psi_1\vee\psi_2)}{\infer[(\vee\textbf{S})]{\Gamma~\varphi_2~(\psi_1\vee\psi_2)}{\Gamma~\varphi_1~\psi_1} & \infer[(\vee\textbf{S})]{\Gamma~\varphi_2~(\psi_1\vee\psi_2)}{\Gamma~\varphi_2~\psi_2}}$$
    Agora que $(ii)$ não é correta: Note que se $\Gamma\varphi_1\vDash\psi_1$ e $\Gamma\varphi_2\vDash\psi_2$, então se $\mf{I}$ satisfaz $\Gamma(\varphi_1\vee\varphi_2)$ temos que $\mf{I}\vDash\varphi_1$ ou $\mf{I}\vDash\varphi_2$, i.e., $\mf{I}\vDash\psi_1$ ou $\mf{I}\vDash\psi_2$, portanto não necessariamente $\mf{I}\vDash(\psi_1\wedge\psi_2)$, portanto este não é correto. Um argumento análogo também serve como prova para $(i)$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.6.} Derive as seguintes regras:
$$\infer[(\text{a1})]{\Gamma~\neg\neg\varphi}{\Gamma~\varphi}~~~~~~\infer[(\text{a2})]{\Gamma~\varphi}{\Gamma~\neg\neg\varphi}~~~~~~\infer[(\text{b})]{\Gamma~(\varphi\wedge\psi)}{\Gamma~\varphi & \Gamma~\psi}$$
$$\infer[(\text{c})]{\Gamma~(\varphi\rightarrow\psi)}{\Gamma~\varphi~\psi}~~~~~~\infer[(\text{d1})]{\Gamma~\varphi}{\Gamma~(\varphi\wedge\psi)}~~~~~~\infer[(\text{d2})]{\Gamma~\psi}{\Gamma~(\varphi\wedge\psi)}$$
\end{shaded}

\begin{proof}
    a1):
    $$\infer[(\textbf{Ctr})]{\Gamma~\neg\neg\varphi}{\infer[(\text{a2})]{\Gamma~\neg\neg\neg\varphi~\neg\varphi}{\infer[(\textbf{Assm})]{\Gamma~\neg\neg\neg\varphi~\neg\neg\neg\varphi}{}} & \infer[(\textbf{Ant})]{\Gamma~\neg\neg\neg\varphi~\varphi}{\Gamma~\varphi}}$$
    a2):
    $$\infer[(\textbf{Ctr})]{\Gamma~\varphi}{\infer[(\textbf{Assm})]{\Gamma~\neg\varphi~\neg\varphi}{} & \infer[(\textbf{Ant})]{\Gamma~\neg\varphi~\neg\neg\varphi}{\Gamma~\neg\neg\varphi}}$$
    b):
    $$\infer[(\textbf{PC})]{\Gamma~\neg(\neg\varphi\vee\neg\psi)\equiv(\varphi\wedge\psi)}{\infer[(\textbf{Cp})]{\Gamma~\neg\neg\psi~\neg(\neg\varphi\vee\neg\psi)}{\infer[(\vee\textbf{A})]{\Gamma~(\neg\varphi\vee\neg\psi)~\neg\psi}{\infer[(\textbf{Assm})]{\Gamma~\neg\psi~\neg\psi}{} & \infer[(\textbf{Cp})]{\Gamma~\neg\varphi~\neg\psi}{\infer[(\textbf{Ant})]{\Gamma~\psi~\varphi}{\Gamma~\varphi}}}} & \infer[(\textbf{Cp})]{\Gamma~\neg\psi~\neg(\neg\varphi\vee\neg\psi)}{\infer[(\textbf{Ant})]{\Gamma~(\neg\varphi\vee\neg\psi)~\psi}{\Gamma~\psi}}}$$
    c):
    $$\infer[(\textbf{Pc})]{\Gamma~(\neg\varphi\vee\psi)\equiv(\varphi\rightarrow\psi)}{\infer[(\vee\textbf{S})]{\Gamma~\neg\psi~(\neg\varphi\vee\psi)}{\infer[(\textbf{Cp})]{\Gamma~\neg\psi~\neg\varphi}{\Gamma~\varphi~\psi}} & \infer[(\vee\textbf{S})]{\Gamma~\psi~(\neg\varphi\vee\psi)}{\infer[(\textbf{Assm})]{\Gamma~\psi~\psi}{}}}$$
    d1) e d2) (basta comutá-los):
    $$\infer[(\textbf{Ch})]{\Gamma~\varphi}{\infer[(a2)]{\Gamma~\neg(\neg\varphi\vee\neg\psi)~\varphi}{\infer[(\textbf{Cp})]{\neg(\neg\varphi\vee\neg\psi)~\neg\neg\varphi}{\infer[(\vee\textbf{S})]{\Gamma~\neg\varphi~(\neg\varphi\vee\neg\psi)}{\infer[(\textbf{Assm})]{\Gamma~\neg\varphi~\neg\varphi}{}}}} & \Gamma~\neg(\neg\varphi\vee\neg\psi)}$$
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.5.} Analise quais das regras abaixo estão corretas:
$$\infer[ (i);]{\exists x\varphi~\exists x\psi}{\varphi~\psi}~~~~~~\infer[ (ii);]{\Gamma~\forall x\varphi~\exists x\psi}{\Gamma~\varphi~\psi}~~~~~~\infer[ (iii).]{\Gamma~\forall x\varphi}{\Gamma~\varphi\frac{fy}{x}}$$
\end{shaded}

\begin{proof}
    $(i)$: Sabemos que $\varphi\vDash\psi$, um modelo $\mf{I}\vDash\exists x\varphi$ sse existe um $a\in A$ tq $\mf{I}\frac{a}{x}\vDash\varphi$, o que, por hipótese, implica que $\mf{I}\frac{a}{x}\vDash\psi$, i.e., se $\mf{I}\vDash\exists x\varphi$, então $\mf{I}\vDash\exists x\psi$, portanto $\exists x\varphi\vDash\exists x\psi$.\\
    $(ii)$: Assumindo que $\Gamma\varphi\vDash\psi$, um modelo $\mf{I}$ satisfaz $\Gamma\forall x\varphi$ sse para todo $a\in A$ vale que $\mf{I}\frac{a}{x}\vDash\varphi$, o que, por hipótese, implica que $\mf{I}\frac{a}{x}\vDash\psi$. Então, em particular, existe um $a\in A$ tq $\mf{I}\frac{a}{x}\vDash\psi$, i.e., $\Gamma\forall x\varphi\vDash\exists x\psi$.\\
    $(iii)$: Temos $\Gamma\vDash\varphi\frac{fy}{x}$, se $\mf{I}\vDash\Gamma$, então, por hipótese, $\mf{I}\vDash\varphi\frac{fy}{x}$, como há uma instância em que vale $\varphi$, pela regra de introdução do existencial no sucedente temos que $\mf{I}\vDash\exists x\varphi$, mas obviamente isso não é o bastante para concluir que $\mf{I}\vDash\forall x\varphi$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 5.5.} Derive as seguintes regras:
$$\infer[(\text{a1})]{\Gamma~\varphi\frac{t}{x}}{\Gamma~\forall x\varphi}~~~~~~\infer[(\text{a2})]{\Gamma~\varphi}{\Gamma~\forall x\varphi}~~~~~~\infer[(\text{b1})]{\Gamma~\forall x\varphi~\psi}{\Gamma~\varphi\frac{t}{x}~\psi}$$
$$\infer[(\text{b2})\text{ se }y\notin\msf{free}(\Gamma\forall x\varphi)]{\Gamma~\forall x\varphi}{\Gamma~\varphi\frac{y}{x}}~~~~~~\infer[(\text{b3})]{\Gamma~\forall x\varphi~\psi}{\Gamma~\varphi~\psi}~~~~~~\infer[(\text{b4})]{\Gamma~\forall x\varphi}{\Gamma~\varphi}$$
\end{shaded}

\begin{proof}
    a1) e a2) (a2 é uma instância de a1 para $t = x$):
    $$\infer[(\textbf{Mp})]{\Gamma~\varphi\frac{t}{x}}{\infer[(\textbf{PC})]{\Gamma~\exists x\neg\varphi\vee\varphi\frac{t}{x}\equiv\forall x\varphi\rightarrow\varphi\frac{t}{x}}{\infer[(\vee\textbf{S})]{\Gamma~\varphi\frac{t}{x}~(\exists x\neg\varphi\vee\varphi\frac{t}{x})}{\infer[(\textbf{Ant})]{\Gamma~\varphi\frac{t}{x}~\varphi\frac{t}{x}}{\infer[(\textbf{Assm})]{\varphi\frac{t}{x}~\varphi\frac{t}{x}}{}}} & \infer[(\vee\textbf{S})]{\Gamma~\neg\varphi\frac{t}{x}~(\exists x\neg\varphi\vee\varphi\frac{t}{x})}{\infer[(\exists\textbf{S})]{\Gamma~\neg\varphi\frac{t}{x}~\exists x\neg\varphi}{\infer[(\textbf{Ant})]{\Gamma~\neg\varphi\frac{t}{x}~\neg\varphi\frac{t}{x}}{\infer[(\textbf{Assm})]{\neg\varphi\frac{t}{x}~\neg\varphi\frac{t}{x}}{}}}}} & \Gamma~\forall x\varphi}$$
    b1) e b3) (b3 é uma instância de b1 para $t = x$):
    $$\infer[(\text{a2})]{\Gamma~\forall x\varphi~\psi\equiv\neg\exists x\neg\varphi~\psi}{\infer[(\textbf{Cp})]{\Gamma~(\neg\exists x\neg\varphi)~\neg\neg\psi)}{\infer[(\exists\textbf{S})]{\Gamma~\neg\psi~\exists x\neg\varphi}{\infer[(\textbf{Cp})]{\Gamma~\neg\psi~\neg\varphi\frac{t}{x}}{\Gamma~\varphi\frac{t}{x}~\psi}}}}$$
    b2) e b4) (b4 é uma instância de b2 para $y = x$):
    $$\infer[(\textbf{PC})]{\Gamma~\forall x\varphi\equiv\neg\exists x\neg\varphi}{\infer[(\textbf{Cp})]{\Gamma~\neg\neg\chi~\neg\exists x\neg\varphi}{\infer[(\exists\textbf{A})]{\Gamma~\exists x\neg\varphi~\neg\chi}{\infer[(\textbf{Cp})]{\Gamma~\neg\varphi\frac{y}{x}~\neg\chi}{\infer[(\textbf{Ant})]{\Gamma~\chi~\varphi\frac{y}{x}}{\Gamma~\varphi\frac{y}{x}}}}} & \infer[(\textbf{Cp})]{\Gamma~\neg\neg\neg\chi~\neg\exists x\neg\varphi}{\infer[(\exists\textbf{A})]{\Gamma~\exists x\neg\varphi~\neg\neg\chi}{\infer[(\textbf{Cp})]{\Gamma~\neg\varphi\frac{y}{x}~\neg\neg\chi}{\infer[(\textbf{Ant})]{\Gamma~\neg\chi~\varphi\frac{y}{x}}{\Gamma~\varphi\frac{y}{x}}}}}}$$
    escolha $\chi$ tq $y\notin\msf{free}(\Gamma\exists x\varphi\chi)$ para utilizar $(\exists\textbf{A})$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 7.8.} Defina $(\exists\forall)$ como a regra:
$$\infer[]{\Gamma~\exists x\varphi~\forall x\varphi}{}$$
a) Determine quando $(\exists\forall)$ é uma regra derivável;\\
b) Seja $\mf{S}'=\mf{S}+(\exists\forall)$, para $\mf{S}$ o cálculo de sequentes. Todo sequente é derivável em $\mf{S}'$?
\end{shaded}

\begin{proof}
    a) Um modelo $\mf{I}$ satisfaz $\Gamma\exists x\varphi$ sse há um $a\in A$ tq $\mf{I}\frac{a}{x}\vDash\varphi$, mas, como dito anteriormente, um elemento satisfazer não é condição suficiente para que todos satisfaçam. À vista disso $\Gamma\exists x\varphi\vDash\forall x\varphi$ quando $\mf{I}\vDash\forall x\varphi$. Portanto a validez de $(\exists\forall)$ é contingente, mas esta com certeza não é correta.\\
    b) Sim, escolhendo um $\varphi$ específico tq $\exists x\varphi$, mas $\neg\forall x\varphi$, temos:
    $$\infer[(\textbf{Ctr'})]{\chi}{\infer[]{\psi\wedge\neg\psi}{\infer[]{\vdots}{\infer[(\exists\forall)]{\exists x\varphi~\forall x\varphi}{}}}}$$
    e, portanto, $\vdash\chi$ para um $\chi$ arbitrário. Note que uma confusão comum é a de que $\mf{S}'$ não necessariamente deriva uma contradição. Alguém poderia argumentar que, embora possamos provar que este deriva uma contradição, esta só é feita instanciando um $\varphi$ específico e, portanto, o conjunto de fórmulas que derivaria uma contradição, não o cálculo. Acontece que o cálculo é único, suas regras seriam como "axiomas esquema" onde todos os sequentes deriváveis são justamente as instâncias destes, já que $\varphi$ é uma metavariável, então derivar $\bot$ a partir de uma instância não gera um problema.
\end{proof}

\section{O Teorema da Completude}

\begin{shaded}
\textbf{Exercício 1.12.} a) Seja $\mc{S}=\{R\}$ com $R$ unário e $\Phi:=\{\exists xRx\}\cup\{\neg Ry\mid y\in\msf{Var}\}$. Mostre que:\\
- $\msf{Sat}(\Phi)$ e, portanto, $\msf{Con}(\Phi)$;\\
- Para nenhum $t\in\mc{T}^\mc{S}$ vale $\Phi\vdash Rt$;\\
- Se $\mf{I}=(\mf{A},\beta)$ é um modelo de $\Phi$, então $\msf{Dom}(\mf{A})\backslash\{\mf{I}(t)\mid t\in\mc{T}^\mc{S}\}\ne\varnothing$.\\
b) Seja $\mc{S}=\{R\}$ com $R$ unário e $x,y\in\msf{Var}$ com $x\ne y$. Para $\Phi=\{Rx\vee Ry\}$ mostre que:\\
- $\Phi\nvdash Rx$ e $\Phi\nvdash\neg Rx$, i.e., $\Phi$ não é completo sobre negação;\\
- $\mf{I}^\Phi\nvDash\Phi$.\\
\end{shaded}

\begin{proof}
    a) Basta primeiro acharmos um modelo para $\Phi$, seja $\mf{I}=(\mf{A},\beta)$ tq $\beta(v_i):=c\in\msf{Dom}(\mf{A}),\forall i\in\mbb{N}$ e $R^\mf{A}=\{a\}$. Então $\mf{I}\vDash\neg Ry$ sse não vale que $\mf{I}(R)\beta(y)=R^\mf{A}c$, o que é satisfeito, visto que $R^\mf{A}=\{a\}$. Além disso, $\mf{I}\vDash\exists xRx$, pois existe $a\in \msf{Dom}(\mf{A})$ tq $\mf{I}\frac{a}{x}\vDash Rx$. Logo $\msf{Sat}(\Phi)$ e, por consequência, $\msf{Con}(\Phi)$.\\
    De fato, para nenhum $t\in\mc{T}^\mc{S}$ vale $\Phi\vdash Rt$, como não há símbolos de função, então $\mc{T}^\mc{S}=\msf{Var}$, assuma que $\Phi\vdash Rx$, mas $x$ é uma variável, então em particular $\neg Rx\in\Phi$, logo $\Phi\vdash Rx$ e $\Phi\vdash\neg Rx$, contradição, pois $\Phi$ é consistente.\\
    Assuma que $\msf{Dom}(\mf{A})\backslash\{\mf{I}(x)\mid x\in\msf{Var}\}=\varnothing$, logo $\msf{Dom}(\mf{A})\subseteq\{\mf{I}(x) \mid x\in\msf{Var}\}$, segue-se disso que, como $\forall x\in\msf{Var}$ vale $\neg Rx$, então $\forall a\in\msf{Dom}(\mf{A})$ temos $\neg Ra$, i.e., não existe $b\in\msf{Dom}(\mf{A})$ tq $Rb$, então $\mf{I}$ não é modelo de $\Phi$, contradição.\\
    b) $\mf{I}$ é modelo de $\Phi$ sse $\mf{I}\vDash Rx$ ou $\mf{I}\vDash Ry$, obviamente existem modelos $\mf{I}_1$ e $\mf{I}_2$ tq o primeiro satisfaz $Rx$ e o segundo não, mas satisfaz $Ry$. Assuma que $\Phi\vdash Rx$, por correção $\Phi\vDash Rx$, o que é uma contradição, devido a existência de $\mf{I}_1$ e $\mf{I}_2$, da mesma forma $\Phi\nvdash\neg Rx$. Como $\Phi$ não prova algo da forma $t_1\overtext{.}{=}t_2$ as classes de equivalência possuem somente um elemento, então $\msf{Dom}(\mf{A}^\Phi)=\mc{T}^\mc{S}$. Como $R^\Phi=\{t\in\msf{Dom}(\mf{A}^\Phi) \mid \Phi\vdash Rt\}$ e $\Phi$ não deriva algo da forma $Rt$, então $R^\Phi=\varnothing$. Sabemos que $\mf{I}^\Phi\vDash\Phi$ sse $\mf{I}^\Phi\vDash Rx$ ou $\mf{I}^\Phi\vdash Ry$, como não vale nenhum dos dois, então $\mf{I}^\Phi\nvDash\Phi$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 1.13.} Fixe um conjunto de símbolos $\mc{S}$. Considere $\mf{I}^\Phi$ para $\msf{Inc}(\Phi)$. $\mf{I}^\Phi$ depende da escolha do conjunto inconsistente $\Phi$?
\end{shaded}

\begin{proof}
    Não, note que se $\Phi$ é inconsistente então ele deriva qualquer fórmula, em particular para todos $t_1,t_2\in\mc{T}^\mc{S}$ temos $\Phi\vdash t_1\overtext{.}{=}t_2$, logo o domínio de $\mf{I}^\Phi$ consistente somente de uma classe de equivalência sempre que $\msf{Inc}(\Phi)$, independendo da escolha das fórmulas em $\Phi$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 2.5.} Seja $\mc{S}$ arbitrário e $\Phi=\{v_0\overtext{.}{=}t\mid t\in\mc{T}^\mc{S}\}\cup\{\exists v_0v_1\neg(v_0\overtext{.}{=}v_1)\}$. Mostre que $\msf{Con}(\Phi)$ e que não há $\Psi\subseteq\mc{L}^\mc{S}$ tq $\Phi\subseteq\Psi$ e $\Psi$ contém testemunhas.
\end{shaded}

\begin{proof}
    Escolha $\beta$ e a interpretação das funções e constantes tais que $\mf{I}(t)=a\in\msf{Dom}(\mf{A}),\forall t\in\mc{T}^\mc{S}$. Além disso seja $\msf{Dom}(\mf{A})=\{a,b\}$ com $a\ne b$, portanto $\mf{I}\vDash\Phi$, i.e., $\msf{Sat}(\Phi)$, logo $\msf{Con}(\Phi)$. Assuma agora que existe tal $\Psi$ do enunciado. Como $\msf{Con}(\Phi)$ e ele contém testemunhas pelo \textbf{Lema 1.9.} c) (que pode ser usado sem a hipótese de que $\Phi$ é completo sobre negação, visto que não é necessário para prova de c)) $\Phi\vdash\exists v_0v_1\neg(v_0\overtext{.}{=}v_1)$ sse $\Phi\vdash\neg(t_1\overtext{.}{=}t_2)$. Pela regra de substituição é possível provar também que $\Phi\vdash t_1\overtext{.}{=}t_2$, i.e. $\msf{Inc}(\Phi)$, contradição, logo não existe tal $\Psi$.
\end{proof}

\section{O Teorema de Löwenheim-Skolem e o Teorema da Compacidade}

\begin{shaded}
\textbf{Exercício 1.3.} Mostre que todo conjunto de fórmulas $\Phi$ tq $\Phi\succeq\aleph_0$ é satisfatível sobre um domínio contável.
\end{shaded}

\begin{proof}
    É um corolário direto do \textbf{Teorema de Löwenheim, Skolem, e Tarski} cuja prova se segue da junção entre a versão descendente e ascendente do \textbf{Teorema de Löwenheim-Skolem}, que é provada após o exercício, portanto não daremos aqui. Do teorema ascendente existe um modelo de $\Phi$ com cardinalidade no mínimo $\aleph_0$ e, pelo descendente, um modelo com cardinalidade no máximo $\aleph_0$, portanto existe um com exatamente a cardinalidade $\aleph_0$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 2.5.} Seja $\mc{S}$ um conjunto de símbolos. Para todo conjunto de $\mc{S}$-sentenças $\Phi$ satisfatível seja $\mf{A}_\Phi$ uma $\mc{S}$-estrutura tq $\mf{A}_\Phi\vDash\Phi$. Além disso seja $\Sigma:=\{\mf{A}_\Phi\mid\Phi\subseteq\mc{L}^\mc{S}_0,\msf{Sat}(\Phi)\}$, e para toda $\mc{S}$-sentença $\varphi$ defina $X_\varphi:=\{\mf{A}\in\Sigma\mid\mf{A}\vDash\varphi\}$. Mostre que:\\
a) O sistema $\{X_\varphi\mid\varphi\in\mc{L}^\mc{S}_0\}$ é uma base para uma topologia em $\Sigma$;\\
b) Todo conjunto $X_\varphi$ é fechado;\\
c) Use o Teorema da Compacidade para mostrar que toda cobertura aberta de $\Sigma$ tem uma subcobertura finita, portanto $\Sigma$ é (quasi-)compacta.
\end{shaded}

\begin{proof}
    \textbf{\color{red}{PENDENTE}}
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.7.} Seja $\mf{K}$ uma classe de estruturas $\Delta$-elementar. Mostre que a classe $\mf{K}^\infty$ de estruturas em $\mf{K}$ com domínio infinito também é $\Delta$-elementar.
\end{shaded}

\begin{proof}
    Defina $\Psi:=\{\varphi_{\ge n}\mid n\in\mbb{N}\}$ sendo $\varphi_{\ge n}$ o mesmo do \textbf{Exercício 6.10.}. Como $\mf{K}$ é elementar podemos descrevê-lo por $\msf{Mod}^\mc{S}\Phi$, basta então pegarmos $\msf{Mod}^\mc{S}\Phi\cup\Psi$ que esta será justamente a classe dos modelos de $\mf{K}$ cujo domínio é infinito.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.8.} Se $\mf{K}$ é uma classe de $\mc{S}$-estruturas, $\Phi\subseteq\mc{L}^\mc{S}_0$ e $\mf{K}=\msf{Mod}^\mc{S}\Phi$, então $\Phi$ é denominado um \textit{sistema de axiomas} para $\mf{K}$, mostre que:\\
a) $\mf{K}$ é elementar sse existe um sistema de axiomas finito para $\mf{K}$;\\
b) Se $\mf{K}$ é elementar e $\mf{K}=\msf{Mod}^\mc{S}\Phi$, então existe $\Phi_0\subseteq\Phi$ tq $\mf{K}=\msf{Mod}^\mc{S}\Phi_0$.
\end{shaded}

\begin{proof}
    a) ($\Rightarrow$) Se $\mf{K}=\msf{Mod}^\mc{S}\varphi$ é elementar, trivialmente existe tal $\Phi=\{\varphi\}$ finito.\\
    ($\Leftarrow$) Se existe $\Phi\prec\aleph_0$ tq $\mf{K}=\msf{Mod}^\mc{S}\Phi$ basta tomar $\varphi:=\bigwedge\Phi$, como $\Phi$ é finito, então $\varphi$ é uma fórmula finita, logo $\mf{K}=\msf{Mod}^\mc{S}\varphi$, i.e., é elementar.\\
    b) Seja $\varphi$ tq $\mf{K}=\msf{Mod}^\mc{S}\varphi$, como $\mf{K}=\msf{Mod}^\mc{S}\Phi$, então $\Phi\vDash\Dashv\varphi$, por completude $\Phi\vdash\varphi$. Obviamente o sequente $\varphi_1\dots\varphi_n\varphi$ em $\Phi$ para derivar $\varphi$ é finito, seja então $\Phi_0=\{\varphi_1,\dots,\varphi_n\}$, como $\Phi_0\vdash\varphi$ por correção $\Phi_0\vDash\varphi$. Além disso $\varphi\vDash\Phi\vDash\Phi_0$, i.e., $\msf{Mod}^\mc{S}\Phi_0=\msf{Mod}^\mc{S}\varphi=\mf{K}$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.9.} Sejam $\mf{K}$ e $\mf{K}_1$ classes de $\mc{S}$-estruturas tq $\mf{K}_1\subseteq\mf{K}$. Seja também $\mf{K}_2:=\mf{K}\backslash\mf{K}_1$ e considere $\mf{K}$ elementar e $\mf{K}_1$ $\Delta$-elementar, prove que:\\
a)
\begin{align*}
    \mf{K}_1\text{ é elementar }&\text{ sse }\mf{K}_2\text{ é }\Delta\text{-elementar};\\
    &\text{ sse }\mf{K}_2\text{ é elementar};
\end{align*}
b) Conclua que a classe de corpos de característica prima não é $\Delta$-elementar.
\end{shaded}

\begin{proof}
    a) \textbf{\color{red}{PENDENTE}}\\
    b) Assuma por contradição que exista $\Phi_\mbb{P}$ tq $\mf{A}\vDash\Phi_\mbb{P}$ sse $\mf{A}$ é um espaço vetorial de característica prima. Mostraremos que existe um espaço vetorial de característica $0$ que também satisfaz $\Phi_\mbb{P}$:
    $$\Phi_0:=\Phi_\mbb{P}\cup\{\neg\chi_p\mid p\text{ é primo}\}$$
    Sendo $\chi_p$ a mesma sentença do \textbf{Exemplo 3.2.} Obviamente todo modelo de $\Phi_0$, além de possuir característica $0$, também é um modelo de $\Phi_\mbb{P}$, basta mostrarmos que $\msf{Sat}(\Phi_0)$. Note que para todo $\Psi\subseteq\Phi_0$ finito existe um $n_0\in\mbb{N}$ tq $\Psi\subseteq\Phi_\mbb{P}\cup\{\neg\chi_p\mid n_0\ge p\wedge p\text{ é primo}\}$ é satisfatível, visto que para todo $n_0$ existe um primo maior que este cuja característica é prima. Pelo Teorema da Compacidade como todo subconjunto finite de $\Phi_0$ é satisfatível, então também é $\Phi_0$, i.e., existe um modelo de $\Phi_\mbb{P}$ cuja característica é $0$, contradição. 
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.10.} $\Phi\subseteq\mc{L}^\mc{S}_0$ é dito independente se nenhum $\varphi\in\Phi$ é tq $\Phi\backslash\{\varphi\}\vdash\varphi$, mostre que:\\
a) Todo $\Phi\subseteq\mc{L}^\mc{S}_0$ tq $\Phi\prec\aleph_0$ tem um $\Phi_0\subseteq\Phi$ independente tq $\msf{Mod}^\mc{S}\Phi=\msf{Mod}^\mc{S}\Phi_0$;\\
b) Se $\mc{S}\preceq\aleph_0$, então toda classe de $\mc{S}$-estruturas $\Delta$-elementar tem um sistema de axiomas independente.
\end{shaded}

\begin{proof}
    a) O caso que $\Phi$ é independente é trivial, seja portanto $\Phi$ não independente. Como $\Phi$ é finito enumere $\Phi=\{\varphi_0,\dots,\varphi_n\}$ e defina recursivamente: $\Psi_0:=\Phi$ e
    $$\Psi_k=
    \begin{cases}
        \Psi_{k-1}\backslash\{\varphi_{k-1}\}\text{, se }\Psi_{k-1}\backslash\{\varphi_{k-1}\}\vdash\varphi_{k-1};\\
        \Psi_{k-1}\text{, caso contrário}.
    \end{cases}$$
    Seja então $\Psi:=\Psi_{n+1}=\Phi_0\subseteq\Phi$, como $\Phi$ é finito, $\Psi$ também é. Segue diretamente da definição que $\Psi$ é independente e $\Psi\vdash\varphi_i$, para $i=0,\dots,n$, portanto $\msf{Mod}^\mc{S}\Psi=\msf{Mod}^\mc{S}\Phi$.\\
    b) Seja $\mf{K}$ tal estrutura, o caso em que $\mf{K}$ é elementar é trivial, pelo \textbf{Exercício 3.8.} a) há $\Phi$ finito tal que $\mf{K}=\msf{Mod}^\mc{S}\Phi$ e procedemos com a independência como em a). Assuma portanto $\mf{K}$ não elementar, como $\mc{S}\preceq\aleph_0$, então $\mc{L}_0^\mc{S}\approx\aleph_0$ e como $\Phi\subseteq\mc{L}_0^\mc{S}$, então $\Phi\approx\aleph_0$. Enumeremos portanto $\Phi$ como $\varphi_0,\varphi_1,\dots$ e definimos recursivamente $\Psi_0:=\Phi$ e
    $$\Psi_k=
    \begin{cases}
        \Psi_{k-1}\backslash\{\varphi_{k-1}\}\text{, se }\Psi_{k-1}\backslash\{\varphi_{k-1}\}\vdash\varphi_{k-1};\\
        \Psi_{k-1}\text{, caso contrário}.
    \end{cases}$$
    Dessa forma $\Psi:=\bigcap_{i=0}^\infty\Psi_i=\Phi_0\subseteq\Phi$ é independente por definição e tal que $\Psi\vdash\varphi_i,\forall i\ge0$, portanto $\msf{Mod}^\mc{S}\Psi=\msf{Mod}^\mc{S}\Phi$.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 3.11.} Seja $\Phi\prec\aleph_0$ um sistema de axiomas para espaços vetorias expresso em termos de $\mc{S}=\{\underline{F},\underline{V},+,\cdot,0,1,\circ,e,*\}$, prove que:\\
a) Para todo $n$ a classe dos espaços vetoriais $n$-dimensionais é elementar;\\
b) A classe de espaços vetoriais de dimensão infinita é $\Delta$-elementar;\\
c) A classe de espaços vetoriais de dimensão finita não é $\Delta$-elementar.
\end{shaded}

\begin{proof}
    a) Seja $\varphi_F$ a conjunção dos axiomas de um espaço vetorial. Para provar que a classe $\mf{K}$ dos espaços vetoriais $n$-dimensionais é elementar, basta construirmos $\varphi_{n\text{-Dim}}$ tq $\mf{K}=\msf{Mod}^\mc{S}\varphi_{n\text{-Dim}}$.\\
    \textbf{\color{red}{PENDENTE}} vai ficar uma fórmula meio grande, então depois eu construo.
    \\
    b) Seja $\varphi_{n\text{-Dim}}$ a caracterização dos espaços $n$-dimensionais em a). Portanto $$\Phi_\text{inf}:=\{\neg\varphi_{n\text{-Dim}}\mid n\ge0\}$$ é tq $\mf{A}\vDash\Phi_\text{inf}$ sse $\mf{A}$ é um espaço vetorial de dimensão infinita, logo a classe $\mf{K}$ de corpos de dimensão infinita é tq $\mf{K}=\msf{Mod}^\mc{S}\Phi_\text{inf}$, i.e., é $\Delta$-elementar.\\
    c) Assuma por contradição que exista $\Phi_\text{fin}$ tq $\mf{A}\vDash\Phi_\text{fin}$ sse $\mf{A}$ é um espaço vetorial de dimensão finita. Mostraremos que existe um espaço vetorial de dimensão infinita que também satisfaz $\Phi_\text{fin}$: $$\Psi:=\Phi_\text{fin}\cup\Phi_\text{inf}$$ obviamente todo modelo de $\Psi$, além de possuir dimensão infinita, também é um modelo de $\Phi_\text{fin}$, basta mostrarmos que $\msf{Sat}(\Psi)$. Note que para todo $\Psi_0\subseteq\Psi$ finito existe um $n_0\in\mbb{N}$ tq $\Psi_0\subseteq\Phi_\text{fin}\cup\{\neg\varphi_{n\text{-Dim}}\mid n_0\ge n\ge0\}$ é satisfatível, visto que, por a), sempre há um espaço vetorial de dimensão maior que $n_0$ que, obviamente, é finito. Pelo Teorema da Compacidade como todo subconjunto finito de $\Psi$ é satisfatível, então também é $\Psi$, i.e., existe um modelo de $\Phi_\text{fin}$ cuja dimensão é infinita, contradição.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.8.} Mostre que se uma $\mc{S}_\text{ar}$-sentença $\varphi$ é válida em todos os corpos ordenados não arquimedianos, então $\varphi$ é válida em todos os corpos ordenados.
\end{shaded}

\begin{proof}
    Basicamente, se existe tal $\varphi$ então a classe dos corpos ordenados não-arquimedianos é elementar. Assuma portanto, por contradição, que a classe $\mf{K}_1$ de corpos ordenados não arquimedianos seja elementar. Temos então que $\mf{K}_1\subseteq\mbb{F}$, onde $\mbb{F}$ é a classe dos corpos ordenados. $\mbb{F}$ é elementar e $\mf{K}_1$ é, por hipótese, elementar. Então, pelo \textbf{Exercício 3.9.}, seu complementar $\mf{K}_2$ de corpos ordenados arquimedianos teria de ser elementar, o que é uma contradição, visto o \textbf{Teorema 4.5.} que prova que $\mf{K}_2$ não é $\Delta$-elementar.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.9.} Seja a $\mc{S}_\text{ar}$-estrutura $\mf{A}$ um modelo de $\msf{Th}(\mf{N})$. Seja a relação binária $<^\mf{A}$ definida em $A=\msf{Dom}(\mf{A})$ como: $\forall a,b\in A$
$$a<^\mf{A}b\text{ sse }a\ne b\text{ e existe um }c\in A\text{ tq }a+^\mf{A}c\overtext{.}{=}b$$
Mostre que $(\mf{A},<^\mf{A})\vDash\msf{Th}(\mf{N}^<)$.
\end{shaded}

\begin{proof}
    Como $\mf{A}\vDash\msf{Th}(\mf{N})$ e $\mf{N}^<$ é a aritmética, mas com a relação de ordem estrita usual, basta mostrarmos que $(\mf{A}, <^\mf{A})$ satisfaz os axiomas de ordem $\Phi_\text{ord}$:\\
    i) $\forall x(\neg x<x)$: sua satisfação segue diretamente da definição, visto que $a\ne b$.\\
    ii) $\forall xyz((x<y\wedge y<z)\rightarrow x<z)$: se existem $c_1,c_2$ tais que $x+c_1\overtext{.}{=}y$ e $y+c_2\overtext{.}{=}z$, então $x+(c_1+c_2)\overtext{.}{=}z$, portanto $x < z$, visto que $c_1+c_2\in A$.\\
    iii) $\forall xy(x<y\vee x\overtext{.}{=}y\vee y<x)$: se $x\overtext{.}{=}y$ a condição é satisfeita, caso contrário ambos diferem por um natural, i.e., $x<y$ ou $y<x$, o que também é simples verificar pela definição.
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.10.} Se $\mf{A}\vDash\msf{Th}(\mf{N})$ e se $a, b\in A:=\msf{Dom}(\mf{A})$, $a$ é dito ser um divisor de $b$ (escrito $a \mid b$) se existe um $c\in A$ tq $a\cdot^Ac=b$. Seja $Q$ um conjunto de números primos. Mostre que existe um modelo $\mf{A}$ da aritmética tq existe um $a\in A$ cujos divisores primos são só os membros de $Q$, i.e., para todo $p\in Q$:
$$\underbrace{1^A+\dots+1^A}_{p\text{ vezes}}\mid a\text{ sse }p\in Q.$$
Conclua que há, no mínimo, tantos modelos contáveis não isomórficos dois a dois da aritmética quanto subconjuntos de $\mbb{N}$.
\end{shaded}

\begin{proof}
    \textbf{\color{red}{PENDENTE}}
\end{proof}

\hrule

\begin{shaded}
\textbf{Exercício 4.11.} Seja $\mf{A}=(A,<^A)$ uma ordenação parcialmente definida. Dizemos que $<^A$ tem uma cadeia descendente infinita se existem $a_0,a_1,\dots\in\msf{field }<^A$ tq $\dots<^Aa_1<^Aa_0$. Prove que:\\
a) $(\mbb{N},<^\mbb{N})$ não possui nenhuma cadeia descendente infinita; por outro lado, se $\mf{A}$ é um modelo não standard de $\msf{Th}(\mf{N})$, então $(A,<^A)$ contém uma cadeia descendente infinta.\\
b) Seja $<\in\mc{S}$ e $\Phi\subseteq\mc{L}_0^\mc{S}$. Assuma que para todo $m\in\mbb{N}$ existe $\mf{A}\vDash\Phi$ tq $(A,<^A)$ é uma ordenação parcialmente definida e $\msf{field }<^A$ contém no mínimo $m$ elementos. Então existe também $\mf{B}\vDash\Phi$ tq $(B,<^B)$ é uma ordenação parcialmente definida contendo uma cadeia descendente infinita.
\end{shaded}

\begin{proof}
    a) Para um modelo standard da aritmética, $\msf{field}<^\mbb{N}=\mbb{N}$. Assuma por contradição que existam $a_0,a_1,\dots\in\mbb{N}$ tq $\dots<^\mbb{N}a_1<^\mbb{N}a_0$. Como $\{a_0,a_1,\dots\}\approx\aleph_0$, então existe uma bijeção $f:\{a_0,a_1,\dots\}\to\mbb{N}$, como em ambas a relação de ordem é a mesma e em $\{a_0,a_1,\dots\}$ o maior elemento é $a_0$, então seria possível encontrar $f(a_0)$ o maior elemento em $\mbb{N}$, contradição, visto que $\mbb{N}$ não possui maior elemento.\\
    Em um modelo não-standard, como o gerado pelo Teorema da Compacidade, existe um $a$ maior que todo natural canônico, i.e., $a,a-1,\dots\in\msf{field}<^A$ tq $\dots<^Aa-1<^Aa$.\\
    b) Seja $\Psi:=\Phi\cup\{a_i,a_{i+1}\in\msf{field}<\wedge a_{i+1}<a_i\mid i\ge0\}$, obviamente um modelo de $\Psi$ possui uma cadeia descendente infinita, basta mostrarmos portanto que $\msf{Sat}(\Psi)$. Note que para todo subconjunto finito $\Psi_0\subseteq\Psi$ existe $n_0$ tq $\Phi\cup\{a_i,a_{i+1}\in\msf{field}<\wedge a_{i+1}<a_i\mid n_0\ge i\ge0\}$, por hipótese, há uma ordenação parcialmente definida com $n_0$ elementos, i.e., $\msf{Sat}(\Psi_0)$. Segue-se portanto do Teorema da Compacidade que $\Psi$ também é satisfatível.
\end{proof}

\section{O Escopo da Lógica de Primeira Ordem}

\begin{shaded}
\textbf{Exercício 4.4.} Um leitor que ficou confuso com a discussão deste capítulo diz: “Agora estou completamente confuso. Como a $ZFC$ pode ser usada como base para a lógica de primeira ordem, uma vez que a última era necessária para construir a $ZFC$?” Ajude tal leitor a sair de seu dilema.
\end{shaded}

\begin{proof}
    O problema na aparente circularidade aqui é gerada pelo fato de que a $ZFC$ não é estritamente necessária como base para a construção da lógica de primeira ordem, poderíamos usar, na realidade, qualquer outro sistema expressivo o suficiente para definir a lógica de primeira ordem sem nenhum problema.
\end{proof}

\section{Interpretações Sintáticas e Formas Normais}

\begin{shaded}
\textbf{Exercício 2.4.} Sejam $U,V\notin\mc{S}$ símbolos de relação unária distintos e $(\mf{A},U^A, V^A)$ uma $\mc{S}\cup\{U,V\}$-estrutura tq $U^A,V^A$ são $\mc{S}$-fechados em $\mf{A}$ e $U^A\subseteq V^A$. Mostre que para $\varphi\in\mc{L}_0^\mc{S}$
$$(\mf{A},U^A,V^A)\vDash([\varphi^V]^U\leftrightarrow\varphi^U)$$.
\end{shaded}

\begin{proof}
    \textbf{\color{red}{PENDENTE}}
\end{proof}

\textbf{\color{red}{PENDENTE}}

\begin{center}
    \section*{Parte B}
\end{center}

\section{Extensões da Lógica de Primeira Ordem}

\begin{shaded}
\textbf{Exercício 1.7.} O sistema $\mathscr{L}_\text{II}^w$ da Lógica de Segunda Ordem Fraca é tq para todo $\mc{S}$, $\mc{L}_\text{II}^{w,\mc
{S}}:=\mc{L}_\text{II}^\mc{S}$ e alteramos a noção de satisfaçaõ em $\mathscr{L}_\text{II}$ especificando, para $\mf{I}=(\mf{A},\gamma)$:
$$\mf{I}\vDash_w\exists X^n\varphi\text{ sse existe um }C\subseteq A^n\text{ finito tq }\mf{I}\frac{C}{X^n}\vDash\varphi.$$
Portanto, só é permitido quantificar sobre conjuntos e relações finitos. Mostre que:\\
a) Há uma sentença $\varphi$ de segunda ordem e uma estrutura $\mf{A}$ tq $\mf{A}\vDash_w\varphi$, mas $\mf{A}\nvDash\varphi$.\\
b) Para cada $\varphi\in\mc{L}_\text{II}^{w,\mc{S}}$ há uma sentença $\psi\in\mc{L}_\text{II}^\mc{S}$ tq para toda $\mc{S}$-estrutura $\mf{A}$, $\mf{A}\vDash_w\varphi$ sse $\mf{A}\vDash\psi$.\\
c) O Teorema da Compacidade não vale em $\mathscr{L}_\text{II}^w$.
\end{shaded}

\begin{proof}
    a) Seja $\mf{A}$ cujo domínio é $\mbb{N}$, então $\varphi_\text{fin}$ é tq para toda função $f:\mbb{N}\to\mbb{N}$ injetora, esta é sobrejetora. Obviamente isso não é verdade na lógica de segunda ordem, visto que $\varphi_\text{fin}$ é equivalente a dizer que o domínio $\mbb{N}$ é finito. Entretanto, na lógica de segunda ordem fraca a sentença é verdadeira por vacuidade, visto que não há funções $f:\mbb{N}\to\mbb{N}$ que sejam finitas, portanto sim, todas as funções, se estas são injetoras, estas também são sobrejetoras.\\
    b) Seja $Y$ uma relação unária, $\forall x\in Y\varphi:=\forall x(Yx\rightarrow\varphi)$ e $\exists x\in Y\varphi:=\exists x(Yx\wedge\varphi)$, substituindo todos os quantificadores em $\varphi_\text{fin}$ por um da forma $Qx\in Y$ obtemos $\varphi_\text{fin}'(Y)$ que diz que o conjunto $Y$ é finito. Como a única mudança que ocorre na satisfatiblidade é nos quantificadores basta substituirmos todas as ocorrências de $\exists X^n\psi$ por $\exists X^n(\varphi_\text{fin}'(X^n)\rightarrow\psi)$ nas fórmulas de segunda ordem, restringindo a variação do quantificador somente para relações finitas.\\
    c) Seja $\varphi_{\ge n}(Y):=\left(\bigwedge_{i=1}^nYv_i\right)\wedge\bigwedge_{i,j\in\{1,\dots,n\}}\neg(v_i\overtext{.}{=}v_j)$ a formalização de $Y$ tem no mínimo $n$ elementos, então
    $$\Phi:=\{\forall Y\varphi_{\ge n}(Y)\mid n\ge 2\}$$
    diz que todas relações unárias são infinitas, se interpretado na lógica de segunda ordem fraca diz que toda relação unária finita é infinita, portanto obviamente $\nvDash_w\Phi$. Entretanto, para todo subconjunto finito $\Phi_0$ de $\Phi$ temos que este é satisfatível, logo não pode valer o Teorema da Compacidade.
    \end{proof}

\begin{comment}

\section{Computabilidade e suas Limitações}

\textbf{\color{red}{PENDENTE}}

\section{Modelos Livres e Programação Lógica}

\textbf{\color{red}{PENDENTE}}

\section{Uma Caracterização Algébrica da Equivalência Elementar}

\textbf{\color{red}{PENDENTE}}

\section{Teoremas de Lindström}

\textbf{\color{red}{PENDENTE}}

\end{comment}

\end{document}/